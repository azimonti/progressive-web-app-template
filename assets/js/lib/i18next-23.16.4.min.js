(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):(e=typeof globalThis!=="undefined"?globalThis:e||self,e.i18next=t())})(this,function(){"use strict";const U=e=>typeof e==="string";const h=()=>{let s;let i;const e=new Promise((e,t)=>{s=e;i=t});e.resolve=s;e.reject=i;return e};const g=e=>{if(e==null)return"";return""+e};const s=(e,t,s)=>{e.forEach(e=>{if(t[e])s[e]=t[e]})};const t=/###/g;const o=e=>e&&e.indexOf("###")>-1?e.replace(t,"."):e;const a=e=>!e||U(e);const l=(e,t,s)=>{const i=!U(t)?t:t.split(".");let n=0;while(n<i.length-1){if(a(e))return{};const r=o(i[n]);if(!e[r]&&s)e[r]=new s;if(Object.prototype.hasOwnProperty.call(e,r)){e=e[r]}else{e={}}++n}if(a(e))return{};return{obj:e,k:o(i[n])}};const u=(e,t,s)=>{const{obj:i,k:n}=l(e,t,Object);if(i!==undefined||t.length===1){i[n]=s;return}let r=t[t.length-1];let o=t.slice(0,t.length-1);let a=l(e,o,Object);while(a.obj===undefined&&o.length){r=`${o[o.length-1]}.${r}`;o=o.slice(0,o.length-1);a=l(e,o,Object);if(a&&a.obj&&typeof a.obj[`${a.k}.${r}`]!=="undefined"){a.obj=undefined}}a.obj[`${a.k}.${r}`]=s};const f=(e,t,s,i)=>{const{obj:n,k:r}=l(e,t,Object);n[r]=n[r]||[];n[r].push(s)};const c=(e,t)=>{const{obj:s,k:i}=l(e,t);if(!s)return undefined;return s[i]};const d=(e,t,s)=>{const i=c(e,s);if(i!==undefined){return i}return c(t,s)};const p=(e,t,s)=>{for(const i in t){if(i!=="__proto__"&&i!=="constructor"){if(i in e){if(U(e[i])||e[i]instanceof String||U(t[i])||t[i]instanceof String){if(s)e[i]=t[i]}else{p(e[i],t[i],s)}}else{e[i]=t[i]}}}return e};const b=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const x=e=>{if(U(e)){return e.replace(/[&<>"'\/]/g,e=>i[e])}return e};class A{constructor(e){this.capacity=e;this.regExpMap=new Map;this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==undefined){return t}const s=new RegExp(e);if(this.regExpQueue.length===this.capacity){this.regExpMap.delete(this.regExpQueue.shift())}this.regExpMap.set(e,s);this.regExpQueue.push(e);return s}}const V=[" ",",","?","!",";"];const D=new A(20);const K=(e,t,s)=>{t=t||"";s=s||"";const i=V.filter(e=>t.indexOf(e)<0&&s.indexOf(e)<0);if(i.length===0)return true;const n=D.getRegExp(`(${i.map(e=>e==="?"?"\\?":e).join("|")})`);let r=!n.test(e);if(!r){const o=e.indexOf(s);if(o>0&&!n.test(e.substring(0,o))){r=true}}return r};const m=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:".";if(!e)return undefined;if(e[t])return e[t];const r=t.split(n);let o=e;for(let i=0;i<r.length;){if(!o||typeof o!=="object"){return undefined}let t;let s="";for(let e=i;e<r.length;++e){if(e!==i){s+=n}s+=r[e];t=o[s];if(t!==undefined){if(["string","number","boolean"].indexOf(typeof t)>-1&&e<r.length-1){continue}i+=e-i+1;break}}o=t}return o};const y=e=>e&&e.replace("_","-");const M={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){if(console&&console[e])console[e].apply(console,t)}};class n{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.prefix=t.prefix||"i18next:";this.logger=e||M;this.options=t;this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++){t[s]=arguments[s]}return this.forward(t,"log","",true)}warn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++){t[s]=arguments[s]}return this.forward(t,"warn","",true)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++){t[s]=arguments[s]}return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++){t[s]=arguments[s]}return this.forward(t,"warn","WARNING DEPRECATED: ",true)}forward(e,t,s,i){if(i&&!this.debug)return null;if(U(e[0]))e[0]=`${s}${this.prefix} ${e[0]}`;return this.logger[t](e)}create(e){return new n(this.logger,{...{prefix:`${this.prefix}:${e}:`},...this.options})}clone(e){e=e||this.options;e.prefix=e.prefix||this.prefix;return new n(this.logger,e)}}var k=new n;class e{constructor(){this.observers={}}on(e,s){e.split(" ").forEach(e=>{if(!this.observers[e])this.observers[e]=new Map;const t=this.observers[e].get(s)||0;this.observers[e].set(s,t+1)});return this}off(e,t){if(!this.observers[e])return;if(!t){delete this.observers[e];return}this.observers[e].delete(t)}emit(i){for(var e=arguments.length,n=new Array(e>1?e-1:0),t=1;t<e;t++){n[t-1]=arguments[t]}if(this.observers[i]){const s=Array.from(this.observers[i].entries());s.forEach(e=>{let[t,s]=e;for(let e=0;e<s;e++){t(...n)}})}if(this.observers["*"]){const s=Array.from(this.observers["*"].entries());s.forEach(e=>{let[t,s]=e;for(let e=0;e<s;e++){t.apply(t,[i,...n])}})}}}class S extends e{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{ns:["translation"],defaultNS:"translation"};super();this.data=e||{};this.options=t;if(this.options.keySeparator===undefined){this.options.keySeparator="."}if(this.options.ignoreJSONStructure===undefined){this.options.ignoreJSONStructure=true}}addNamespaces(e){if(this.options.ns.indexOf(e)<0){this.options.ns.push(e)}}removeNamespaces(e){const t=this.options.ns.indexOf(e);if(t>-1){this.options.ns.splice(t,1)}}getResource(e,t,s){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const n=i.keySeparator!==undefined?i.keySeparator:this.options.keySeparator;const r=i.ignoreJSONStructure!==undefined?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;if(e.indexOf(".")>-1){o=e.split(".")}else{o=[e,t];if(s){if(Array.isArray(s)){o.push(...s)}else if(U(s)&&n){o.push(...s.split(n))}else{o.push(s)}}}const a=c(this.data,o);if(!a&&!t&&!s&&e.indexOf(".")>-1){e=o[0];t=o[1];s=o.slice(2).join(".")}if(a||!r||!U(s))return a;return m(this.data&&this.data[e]&&this.data[e][t],s,n)}addResource(e,t,s,i){let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{silent:false};const r=n.keySeparator!==undefined?n.keySeparator:this.options.keySeparator;let o=[e,t];if(s)o=o.concat(r?s.split(r):s);if(e.indexOf(".")>-1){o=e.split(".");i=t;t=o[1]}this.addNamespaces(t);u(this.data,o,i);if(!n.silent)this.emit("added",e,t,s,i)}addResources(e,t,s){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{silent:false};for(const n in s){if(U(s[n])||Array.isArray(s[n]))this.addResource(e,t,n,s[n],{silent:true})}if(!i.silent)this.emit("added",e,t,s)}addResourceBundle(e,t,s,i,n){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{silent:false,skipCopy:false};let o=[e,t];if(e.indexOf(".")>-1){o=e.split(".");i=s;s=t;t=o[1]}this.addNamespaces(t);let a=c(this.data,o)||{};if(!r.skipCopy)s=JSON.parse(JSON.stringify(s));if(i){p(a,s,n)}else{a={...a,...s}}u(this.data,o,a);if(!r.silent)this.emit("added",e,t,s)}removeResourceBundle(e,t){if(this.hasResourceBundle(e,t)){delete this.data[e][t]}this.removeNamespaces(t);this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==undefined}getResourceBundle(e,t){if(!t)t=this.options.defaultNS;if(this.options.compatibilityAPI==="v1")return{...{},...this.getResource(e,t)};return this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);const s=t&&Object.keys(t)||[];return!!s.find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var v={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,s,i,n){e.forEach(e=>{if(this.processors[e])t=this.processors[e].process(t,s,i,n)});return t}};const O={};class T extends e{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};super();s(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this);this.options=t;if(this.options.keySeparator===undefined){this.options.keySeparator="."}this.logger=k.create("translator")}changeLanguage(e){if(e)this.language=e}exists(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{interpolation:{}};if(e===undefined||e===null){return false}const s=this.resolve(e,t);return s&&s.res!==undefined}extractFromKey(e,t){let s=t.nsSeparator!==undefined?t.nsSeparator:this.options.nsSeparator;if(s===undefined)s=":";const i=t.keySeparator!==undefined?t.keySeparator:this.options.keySeparator;let n=t.ns||this.options.defaultNS||[];const r=s&&e.indexOf(s)>-1;const o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!K(e,s,i);if(r&&!o){const a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0){return{key:e,namespaces:n}}const l=e.split(s);if(s!==i||s===i&&this.options.ns.indexOf(l[0])>-1)n=l.shift();e=l.join(i)}if(U(n))n=[n];return{key:e,namespaces:n}}translate(s,n,i){if(typeof n!=="object"&&this.options.overloadTranslationOptionHandler){n=this.options.overloadTranslationOptionHandler(arguments)}if(typeof n==="object")n={...n};if(!n)n={};if(s===undefined||s===null)return"";if(!Array.isArray(s))s=[String(s)];const e=n.returnDetails!==undefined?n.returnDetails:this.options.returnDetails;const r=n.keySeparator!==undefined?n.keySeparator:this.options.keySeparator;const{key:o,namespaces:t}=this.extractFromKey(s[s.length-1],n);const a=t[t.length-1];const l=n.lng||this.language;const u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&l.toLowerCase()==="cimode"){if(u){const y=n.nsSeparator||this.options.nsSeparator;if(e){return{res:`${a}${y}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(n)}}return`${a}${y}${o}`}if(e){return{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(n)}}return o}const f=this.resolve(s,n);let c=f&&f.res;const h=f&&f.usedKey||o;const d=f&&f.exactUsedKey||o;const p=Object.prototype.toString.apply(c);const V=["[object Number]","[object Function]","[object RegExp]"];const g=n.joinArrays!==undefined?n.joinArrays:this.options.joinArrays;const m=!this.i18nFormat||this.i18nFormat.handleAsObject;const D=!U(c)&&typeof c!=="boolean"&&typeof c!=="number";if(m&&c&&D&&V.indexOf(p)<0&&!(U(g)&&Array.isArray(c))){if(!n.returnObjects&&!this.options.returnObjects){if(!this.options.returnedObjectHandler){this.logger.warn("accessing an object - but returnObjects options is not enabled!")}const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,c,{...n,ns:t}):`key '${o} (${this.language})' returned an object instead of string.`;if(e){f.res=b;f.usedParams=this.getUsedParamsDetails(n);return f}return b}if(r){const x=Array.isArray(c);const e=x?[]:{};const k=x?d:h;for(const S in c){if(Object.prototype.hasOwnProperty.call(c,S)){const v=`${k}${r}${S}`;e[S]=this.translate(v,{...n,...{joinArrays:false,ns:t}});if(e[S]===v)e[S]=c[S]}}c=e}}else if(m&&U(g)&&Array.isArray(c)){c=c.join(g);if(c)c=this.extendTranslation(c,s,n,i)}else{let e=false;let t=false;const O=n.count!==undefined&&!U(n.count);const L=T.hasDefaultValue(n);const w=O?this.pluralResolver.getSuffix(l,n.count,n):"";const N=n.ordinal&&O?this.pluralResolver.getSuffix(l,n.count,{ordinal:false}):"";const R=O&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi();const C=R&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${w}`]||n[`defaultValue${N}`]||n.defaultValue;if(!this.isValidLookup(c)&&L){e=true;c=C}if(!this.isValidLookup(c)){t=true;c=o}const P=n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey;const j=P&&t?undefined:c;const E=L&&C!==c&&this.options.updateMissing;if(t||e||E){this.logger.log(E?"updateKey":"missingKey",l,a,o,E?C:c);if(r){const A=this.resolve(o,{...n,keySeparator:false});if(A&&A.res)this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let t=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0]){for(let e=0;e<I.length;e++){t.push(I[e])}}else if(this.options.saveMissingTo==="all"){t=this.languageUtils.toResolveHierarchy(n.lng||this.language)}else{t.push(n.lng||this.language)}const F=(e,t,s)=>{const i=L&&s!==c?s:j;if(this.options.missingKeyHandler){this.options.missingKeyHandler(e,a,t,i,E,n)}else if(this.backendConnector&&this.backendConnector.saveMissing){this.backendConnector.saveMissing(e,a,t,i,E,n)}this.emit("missingKey",e,a,t,c)};if(this.options.saveMissing){if(this.options.saveMissingPlurals&&O){t.forEach(t=>{const e=this.pluralResolver.getSuffixes(t,n);if(R&&n[`defaultValue${this.options.pluralSeparator}zero`]&&e.indexOf(`${this.options.pluralSeparator}zero`)<0){e.push(`${this.options.pluralSeparator}zero`)}e.forEach(e=>{F([t],o+e,n[`defaultValue${e}`]||C)})})}else{F(t,o,C)}}}c=this.extendTranslation(c,s,n,f,i);if(t&&c===o&&this.options.appendNamespaceToMissingKey)c=`${a}:${o}`;if((t||e)&&this.options.parseMissingKeyHandler){if(this.options.compatibilityAPI!=="v1"){c=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${o}`:o,e?c:undefined)}else{c=this.options.parseMissingKeyHandler(c)}}}if(e){f.res=c;f.usedParams=this.getUsedParamsDetails(n);return f}return c}extendTranslation(s,i,n,r,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse){s=this.i18nFormat.parse(s,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r})}else if(!n.skipInterpolation){if(n.interpolation)this.interpolator.init({...n,...{interpolation:{...this.options.interpolation,...n.interpolation}}});const l=U(s)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==undefined?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let e;if(l){const u=s.match(this.interpolator.nestingRegexp);e=u&&u.length}let t=n.replace&&!U(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables)t={...this.options.interpolation.defaultVariables,...t};s=this.interpolator.interpolate(s,t,n.lng||this.language||r.usedLng,n);if(l){const f=s.match(this.interpolator.nestingRegexp);const c=f&&f.length;if(e<c)n.nest=false}if(!n.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res)n.lng=this.language||r.usedLng;if(n.nest!==false)s=this.interpolator.nest(s,function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++){t[s]=arguments[s]}if(o&&o[0]===t[0]&&!n.context){a.logger.warn(`It seems you are nesting recursively key: ${t[0]} in key: ${i[0]}`);return null}return a.translate(...t,i)},n);if(n.interpolation)this.interpolator.reset()}const e=n.postProcess||this.options.postProcess;const t=U(e)?[e]:e;if(s!==undefined&&s!==null&&t&&t.length&&n.applyPostProcessor!==false){s=v.handle(t,s,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)}return s}resolve(e){let c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let h;let n;let d;let p;let r;if(U(e))e=[e];e.forEach(e=>{if(this.isValidLookup(h))return;const t=this.extractFromKey(e,c);const a=t.key;n=a;let s=t.namespaces;if(this.options.fallbackNS)s=s.concat(this.options.fallbackNS);const l=c.count!==undefined&&!U(c.count);const u=l&&!c.ordinal&&c.count===0&&this.pluralResolver.shouldUseIntlApi();const f=c.context!==undefined&&(U(c.context)||typeof c.context==="number")&&c.context!=="";const i=c.lngs?c.lngs:this.languageUtils.toResolveHierarchy(c.lng||this.language,c.fallbackLng);s.forEach(o=>{if(this.isValidLookup(h))return;r=o;if(!O[`${i[0]}-${o}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(r)){O[`${i[0]}-${o}`]=true;this.logger.warn(`key "${n}" for languages "${i.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}i.forEach(t=>{if(this.isValidLookup(h))return;p=t;const s=[a];if(this.i18nFormat&&this.i18nFormat.addLookupKeys){this.i18nFormat.addLookupKeys(s,a,t,o,c)}else{let e;if(l)e=this.pluralResolver.getSuffix(t,c.count,c);const i=`${this.options.pluralSeparator}zero`;const n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(l){s.push(a+e);if(c.ordinal&&e.indexOf(n)===0){s.push(a+e.replace(n,this.options.pluralSeparator))}if(u){s.push(a+i)}}if(f){const r=`${a}${this.options.contextSeparator}${c.context}`;s.push(r);if(l){s.push(r+e);if(c.ordinal&&e.indexOf(n)===0){s.push(r+e.replace(n,this.options.pluralSeparator))}if(u){s.push(r+i)}}}}let e;while(e=s.pop()){if(!this.isValidLookup(h)){d=e;h=this.getResource(t,o,e,c)}}})})});return{res:h,usedKey:n,exactUsedKey:d,usedLng:p,usedNS:r}}isValidLookup(e){return e!==undefined&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(this.i18nFormat&&this.i18nFormat.getResource)return this.i18nFormat.getResource(e,t,s,i);return this.resourceStore.getResource(e,t,s,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"];const s=e.replace&&!U(e.replace);let i=s?e.replace:e;if(s&&typeof e.count!=="undefined"){i.count=e.count}if(this.options.interpolation.defaultVariables){i={...this.options.interpolation.defaultVariables,...i}}if(!s){i={...i};for(const n of t){delete i[n]}}return i}static hasDefaultValue(e){const t="defaultValue";for(const s in e){if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&undefined!==e[s]){return true}}return false}}const r=e=>e.charAt(0).toUpperCase()+e.slice(1);class L{constructor(e){this.options=e;this.supportedLngs=this.options.supportedLngs||false;this.logger=k.create("languageUtils")}getScriptPartFromCode(e){e=y(e);if(!e||e.indexOf("-")<0)return null;const t=e.split("-");if(t.length===2)return null;t.pop();if(t[t.length-1].toLowerCase()==="x")return null;return this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){e=y(e);if(!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(t){if(U(t)&&t.indexOf("-")>-1){if(typeof Intl!=="undefined"&&typeof Intl.getCanonicalLocales!=="undefined"){try{let e=Intl.getCanonicalLocales(t)[0];if(e&&this.options.lowerCaseLng){e=e.toLowerCase()}if(e)return e}catch(e){}}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let e=t.split("-");if(this.options.lowerCaseLng){e=e.map(e=>e.toLowerCase())}else if(e.length===2){e[0]=e[0].toLowerCase();e[1]=e[1].toUpperCase();if(s.indexOf(e[1].toLowerCase())>-1)e[1]=r(e[1].toLowerCase())}else if(e.length===3){e[0]=e[0].toLowerCase();if(e[1].length===2)e[1]=e[1].toUpperCase();if(e[0]!=="sgn"&&e[2].length===2)e[2]=e[2].toUpperCase();if(s.indexOf(e[1].toLowerCase())>-1)e[1]=r(e[1].toLowerCase());if(s.indexOf(e[2].toLowerCase())>-1)e[2]=r(e[2].toLowerCase())}return e.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(e){if(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs){e=this.getLanguagePartFromCode(e)}return!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;e.forEach(e=>{if(s)return;const t=this.formatLanguageCode(e);if(!this.options.supportedLngs||this.isSupportedCode(t))s=t});if(!s&&this.options.supportedLngs){e.forEach(e=>{if(s)return;const t=this.getLanguagePartFromCode(e);if(this.isSupportedCode(t))return s=t;s=this.options.supportedLngs.find(e=>{if(e===t)return e;if(e.indexOf("-")<0&&t.indexOf("-")<0)return;if(e.indexOf("-")>0&&t.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===t)return e;if(e.indexOf(t)===0&&t.length>1)return e})})}if(!s)s=this.getFallbackCodes(this.options.fallbackLng)[0];return s}getFallbackCodes(e,t){if(!e)return[];if(typeof e==="function")e=e(t);if(U(e))e=[e];if(Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];if(!s)s=e[this.getScriptPartFromCode(t)];if(!s)s=e[this.formatLanguageCode(t)];if(!s)s=e[this.getLanguagePartFromCode(t)];if(!s)s=e.default;return s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes(t||this.options.fallbackLng||[],e);const i=[];const n=e=>{if(!e)return;if(this.isSupportedCode(e)){i.push(e)}else{this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`)}};if(U(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)){if(this.options.load!=="languageOnly")n(this.formatLanguageCode(e));if(this.options.load!=="languageOnly"&&this.options.load!=="currentOnly")n(this.getScriptPartFromCode(e));if(this.options.load!=="currentOnly")n(this.getLanguagePartFromCode(e))}else if(U(e)){n(this.formatLanguageCode(e))}s.forEach(e=>{if(i.indexOf(e)<0)n(this.formatLanguageCode(e))});return i}}let z=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}];let H={1:e=>Number(e>1),2:e=>Number(e!=1),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(e==1?0:e>=2&&e<=4?1:2),7:e=>Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(e==1?0:e==2?1:e!=8&&e!=11?2:3),9:e=>Number(e>=2),10:e=>Number(e==1?0:e==2?1:e<7?2:e<11?3:4),11:e=>Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(e!==0),14:e=>Number(e==1?0:e==2?1:e==3?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:e!==0?1:2),17:e=>Number(e==1||e%10==1&&e%100!=11?0:1),18:e=>Number(e==0?0:e==1?1:2),19:e=>Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(e==1?0:e==0||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)};const J=["v1","v2","v3"];const B=["v4"];const w={zero:0,one:1,two:2,few:3,many:4,other:5};const q=()=>{const s={};z.forEach(t=>{t.lngs.forEach(e=>{s[e]={numbers:t.nr,plurals:H[t.fc]}})});return s};class _{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.languageUtils=e;this.options=t;this.logger=k.create("pluralResolver");if((!this.options.compatibilityJSON||B.includes(this.options.compatibilityJSON))&&(typeof Intl==="undefined"||!Intl.PluralRules)){this.options.compatibilityJSON="v3";this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")}this.rules=q();this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.shouldUseIntlApi()){try{const s=y(e==="dev"?"en":e);const i=t.ordinal?"ordinal":"cardinal";const n=JSON.stringify({cleanedCode:s,type:i});if(n in this.pluralRulesCache){return this.pluralRulesCache[n]}const r=new Intl.PluralRules(s,{type:i});this.pluralRulesCache[n]=r;return r}catch(e){return}}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const s=this.getRule(e,t);if(this.shouldUseIntlApi()){return s&&s.resolvedOptions().pluralCategories.length>1}return s&&s.numbers.length>1}getPluralFormsOfKey(e,t){let s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.getSuffixes(e,s).map(e=>`${t}${e}`)}getSuffixes(t){let s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const e=this.getRule(t,s);if(!e){return[]}if(this.shouldUseIntlApi()){return e.resolvedOptions().pluralCategories.sort((e,t)=>w[e]-w[t]).map(e=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${e}`)}return e.numbers.map(e=>this.getSuffix(t,e,s))}getSuffix(e,t){let s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const i=this.getRule(e,s);if(i){if(this.shouldUseIntlApi()){return`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`}return this.getSuffixRetroCompatible(i,t)}this.logger.warn(`no plural rule found for: ${e}`);return""}getSuffixRetroCompatible(e,t){const s=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[s];if(this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1){if(i===2){i="plural"}else if(i===1){i=""}}const n=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();if(this.options.compatibilityJSON==="v1"){if(i===1)return"";if(typeof i==="number")return`_plural_${i.toString()}`;return n()}else if(this.options.compatibilityJSON==="v2"){return n()}else if(this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1){return n()}return this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!J.includes(this.options.compatibilityJSON)}}const N=function(e,t,s){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:".";let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;let r=d(e,t,s);if(!r&&n&&U(s)){r=m(e,s,i);if(r===undefined)r=m(t,s,i)}return r};const R=e=>e.replace(/\$/g,"$$$$");class W{constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.logger=k.create("interpolator");this.options=e;this.format=e.interpolation&&e.interpolation.format||(e=>e);this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!e.interpolation)e.interpolation={escapeValue:true};const{escape:t,escapeValue:s,useRawValueToEscape:i,prefix:n,prefixEscaped:r,suffix:o,suffixEscaped:a,formatSeparator:l,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:c,nestingPrefixEscaped:h,nestingSuffix:d,nestingSuffixEscaped:p,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:y}=e.interpolation;this.escape=t!==undefined?t:x;this.escapeValue=s!==undefined?s:true;this.useRawValueToEscape=i!==undefined?i:false;this.prefix=n?b(n):r||"{{";this.suffix=o?b(o):a||"}}";this.formatSeparator=l||",";this.unescapePrefix=u?"":f||"-";this.unescapeSuffix=this.unescapePrefix?"":u||"";this.nestingPrefix=c?b(c):h||b("$t(");this.nestingSuffix=d?b(d):p||b(")");this.nestingOptionsSeparator=g||",";this.maxReplaces=m||1e3;this.alwaysFormat=y!==undefined?y:false;this.resetRegExp()}reset(){if(this.options)this.init(this.options)}resetRegExp(){const e=(e,t)=>{if(e&&e.source===t){e.lastIndex=0;return e}return new RegExp(t,"g")};this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`);this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(n,r,o,a){let l;let u;let f;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};const h=e=>{if(e.indexOf(this.formatSeparator)<0){const n=N(r,c,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(n,undefined,o,{...a,...r,interpolationkey:e}):n}const t=e.split(this.formatSeparator);const s=t.shift().trim();const i=t.join(this.formatSeparator).trim();return this.format(N(r,c,s,this.options.keySeparator,this.options.ignoreJSONStructure),i,o,{...a,...r,interpolationkey:s})};this.resetRegExp();const d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler;const p=a&&a.interpolation&&a.interpolation.skipOnVariables!==undefined?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;const e=[{regex:this.regexpUnescape,safeValue:e=>R(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?R(this.escape(e)):R(e)}];e.forEach(e=>{f=0;while(l=e.regex.exec(n)){const t=l[1].trim();u=h(t);if(u===undefined){if(typeof d==="function"){const i=d(n,l,a);u=U(i)?i:""}else if(a&&Object.prototype.hasOwnProperty.call(a,t)){u=""}else if(p){u=l[0];continue}else{this.logger.warn(`missed to pass in variable ${t} for interpolating ${n}`);u=""}}else if(!U(u)&&!this.useRawValueToEscape){u=g(u)}const s=e.safeValue(u);n=n.replace(l[0],s);if(p){e.regex.lastIndex+=u.length;e.regex.lastIndex-=l[0].length}else{e.regex.lastIndex=0}f++;if(f>=this.maxReplaces){break}}});return n}nest(s,i){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let r;let o;let a;const l=(t,e)=>{const s=this.nestingOptionsSeparator;if(t.indexOf(s)<0)return t;const i=t.split(new RegExp(`${s}[ ]*{`));let n=`{${i[1]}`;t=i[0];n=this.interpolate(n,a);const r=n.match(/'/g);const o=n.match(/"/g);if(r&&r.length%2===0&&!o||o.length%2!==0){n=n.replace(/'/g,'"')}try{a=JSON.parse(n);if(e)a={...e,...a}}catch(e){this.logger.warn(`failed parsing options string in nesting for key ${t}`,e);return`${t}${s}${n}`}if(a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1)delete a.defaultValue;return t};while(r=this.nestingRegexp.exec(s)){let e=[];a={...n};a=a.replace&&!U(a.replace)?a.replace:a;a.applyPostProcessor=false;delete a.defaultValue;let t=false;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const u=r[1].split(this.formatSeparator).map(e=>e.trim());r[1]=u.shift();e=u;t=true}o=i(l.call(this,r[1].trim(),a),a);if(o&&r[0]===s&&!U(o))return o;if(!U(o))o=g(o);if(!o){this.logger.warn(`missed to resolve ${r[1]} for nesting ${s}`);o=""}if(t){o=e.reduce((e,t)=>this.format(e,t,n.lng,{...n,interpolationkey:r[1].trim()}),o.trim())}s=s.replace(r[0],o);this.regexp.lastIndex=0}return s}}const Y=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const i=s[1].substring(0,s[1].length-1);if(t==="currency"&&i.indexOf(":")<0){if(!r.currency)r.currency=i.trim()}else if(t==="relativetime"&&i.indexOf(":")<0){if(!r.range)r.range=i.trim()}else{const n=i.split(";");n.forEach(e=>{if(e){const[t,...s]=e.split(":");const i=s.join(":").trim().replace(/^'+|'+$/g,"");const n=t.trim();if(!r[n])r[n]=i;if(i==="false")r[n]=false;if(i==="true")r[n]=true;if(!isNaN(i))r[n]=parseInt(i,10)}})}}return{formatName:t,formatOptions:r}};const C=o=>{const a={};return(e,t,s)=>{let i=s;if(s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]){i={...i,[s.interpolationkey]:undefined}}const n=t+JSON.stringify(i);let r=a[n];if(!r){r=o(y(t),s);a[n]=r}return r(e)}};class Q{constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.logger=k.create("formatter");this.options=e;this.formats={number:C((e,t)=>{const s=new Intl.NumberFormat(e,{...t});return e=>s.format(e)}),currency:C((e,t)=>{const s=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>s.format(e)}),datetime:C((e,t)=>{const s=new Intl.DateTimeFormat(e,{...t});return e=>s.format(e)}),relativetime:C((e,t)=>{const s=new Intl.RelativeTimeFormat(e,{...t});return e=>s.format(e,t.range||"day")}),list:C((e,t)=>{const s=new Intl.ListFormat(e,{...t});return e=>s.format(e)})};this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=C(t)}format(e,t,o){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(e=>e.indexOf(")")>-1)){const n=s.findIndex(e=>e.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,n)].join(this.formatSeparator)}const i=s.reduce((t,e)=>{const{formatName:s,formatOptions:i}=Y(e);if(this.formats[s]){let e=t;try{const n=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{};const r=n.locale||n.lng||a.locale||a.lng||o;e=this.formats[s](t,r,{...i,...a,...n})}catch(e){this.logger.warn(e)}return e}else{this.logger.warn(`there was no format function for ${s}`)}return t},e);return i}}const G=(e,t)=>{if(e.pending[t]!==undefined){delete e.pending[t];e.pendingCount--}};class X extends e{constructor(e,t,s){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};super();this.backend=e;this.store=t;this.services=s;this.languageUtils=s.languageUtils;this.options=i;this.logger=k.create("backendConnector");this.waitingReads=[];this.maxParallelReads=i.maxParallelReads||10;this.readingCalls=0;this.maxRetries=i.maxRetries>=0?i.maxRetries:5;this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350;this.state={};this.queue=[];if(this.backend&&this.backend.init){this.backend.init(s,i.backend,i)}}queueLoad(e,t,n,s){const r={};const o={};const a={};const l={};e.forEach(s=>{let i=true;t.forEach(e=>{const t=`${s}|${e}`;if(!n.reload&&this.store.hasResourceBundle(s,e)){this.state[t]=2}else if(this.state[t]<0);else if(this.state[t]===1){if(o[t]===undefined)o[t]=true}else{this.state[t]=1;i=false;if(o[t]===undefined)o[t]=true;if(r[t]===undefined)r[t]=true;if(l[e]===undefined)l[e]=true}});if(!i)a[s]=true});if(Object.keys(r).length||Object.keys(o).length){this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s})}return{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,s){const i=e.split("|");const n=i[0];const r=i[1];if(t)this.emit("failedLoading",n,r,t);if(!t&&s){this.store.addResourceBundle(n,r,s,undefined,undefined,{skipCopy:true})}this.state[e]=t?-1:2;if(t&&s)this.state[e]=0;const o={};this.queue.forEach(s=>{f(s.loaded,[n],r);G(s,e);if(t)s.errors.push(t);if(s.pendingCount===0&&!s.done){Object.keys(s.loaded).forEach(t=>{if(!o[t])o[t]={};const e=s.loaded[t];if(e.length){e.forEach(e=>{if(o[t][e]===undefined)o[t][e]=true})}});s.done=true;if(s.errors.length){s.callback(s.errors)}else{s.callback()}}});this.emit("loaded",o);this.queue=this.queue.filter(e=>!e.done)}read(i,n,r){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;let a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:this.retryTimeout;let l=arguments.length>5?arguments[5]:undefined;if(!i.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:n,fcName:r,tried:o,wait:a,callback:l});return}this.readingCalls++;const t=(e,t)=>{this.readingCalls--;if(this.waitingReads.length>0){const s=this.waitingReads.shift();this.read(s.lng,s.ns,s.fcName,s.tried,s.wait,s.callback)}if(e&&t&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,i,n,r,o+1,a*2,l)},a);return}l(e,t)};const e=this.backend[r].bind(this.backend);if(e.length===2){try{const s=e(i,n);if(s&&typeof s.then==="function"){s.then(e=>t(null,e)).catch(t)}else{t(null,s)}}catch(e){t(e)}return}return e(i,n,t)}prepareLoading(e,t){let s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let i=arguments.length>3?arguments[3]:undefined;if(!this.backend){this.logger.warn("No backend was added via i18next.use. Will not load resources.");return i&&i()}if(U(e))e=this.languageUtils.toResolveHierarchy(e);if(U(t))t=[t];const n=this.queueLoad(e,t,s,i);if(!n.toLoad.length){if(!n.pending.length)i();return null}n.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:true},s)}loadOne(s){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";const e=s.split("|");const n=e[0];const r=e[1];this.read(n,r,"read",undefined,undefined,(e,t)=>{if(e)this.logger.warn(`${i}loading namespace ${r} for language ${n} failed`,e);if(!e&&t)this.logger.log(`${i}loaded namespace ${r} for language ${n}`,t);this.loaded(s,e,t)})}saveMissing(t,s,i,n,e){let r=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};let o=arguments.length>6&&arguments[6]!==undefined?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${i}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(i===undefined||i===null||i==="")return;if(this.backend&&this.backend.create){const a={...r,isUpdate:e};const l=this.backend.create.bind(this.backend);if(l.length<6){try{let e;if(l.length===5){e=l(t,s,i,n,a)}else{e=l(t,s,i,n)}if(e&&typeof e.then==="function"){e.then(e=>o(null,e)).catch(o)}else{o(null,e)}}catch(e){o(e)}}else{l(t,s,i,n,o,a)}}if(!t||!t[0])return;this.store.addResource(t[0],s,i,n)}}const P=()=>({debug:false,initImmediate:true,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:false,supportedLngs:false,nonExplicitSupportedLngs:false,load:"all",preload:false,simplifyPluralSuffix:true,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:false,saveMissing:false,updateMissing:false,saveMissingTo:"fallback",saveMissingPlurals:true,missingKeyHandler:false,missingInterpolationHandler:false,postProcess:false,postProcessPassResolved:false,returnNull:false,returnEmptyString:true,returnObjects:false,joinArrays:false,returnedObjectHandler:false,parseMissingKeyHandler:false,appendNamespaceToMissingKey:false,appendNamespaceToCIMode:false,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]==="object")t=e[1];if(U(e[1]))t.defaultValue=e[1];if(U(e[2]))t.tDescription=e[2];if(typeof e[2]==="object"||typeof e[3]==="object"){const s=e[3]||e[2];Object.keys(s).forEach(e=>{t[e]=s[e]})}return t},interpolation:{escapeValue:true,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:true}});const j=e=>{if(U(e.ns))e.ns=[e.ns];if(U(e.fallbackLng))e.fallbackLng=[e.fallbackLng];if(U(e.fallbackNS))e.fallbackNS=[e.fallbackNS];if(e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0){e.supportedLngs=e.supportedLngs.concat(["cimode"])}return e};const E=()=>{};const Z=t=>{const e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(e=>{if(typeof t[e]==="function"){t[e]=t[e].bind(t)}})};class I extends e{constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1?arguments[1]:undefined;super();this.options=j(e);this.services={};this.logger=k;this.modules={external:[]};Z(this);if(t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate){this.init(e,t);return this}setTimeout(()=>{this.init(e,t)},0)}}init(){var n=this;let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let s=arguments.length>1?arguments[1]:undefined;this.isInitializing=true;if(typeof e==="function"){s=e;e={}}if(!e.defaultNS&&e.defaultNS!==false&&e.ns){if(U(e.ns)){e.defaultNS=e.ns}else if(e.ns.indexOf("translation")<0){e.defaultNS=e.ns[0]}}const t=P();this.options={...t,...this.options,...j(e)};if(this.options.compatibilityAPI!=="v1"){this.options.interpolation={...t.interpolation,...this.options.interpolation}}if(e.keySeparator!==undefined){this.options.userDefinedKeySeparator=e.keySeparator}if(e.nsSeparator!==undefined){this.options.userDefinedNsSeparator=e.nsSeparator}const i=e=>{if(!e)return null;if(typeof e==="function")return new e;return e};if(!this.options.isClone){if(this.modules.logger){k.init(i(this.modules.logger),this.options)}else{k.init(null,this.options)}let e;if(this.modules.formatter){e=this.modules.formatter}else if(typeof Intl!=="undefined"){e=Q}const u=new L(this.options);this.store=new S(this.options.resources,this.options);const f=this.services;f.logger=k;f.resourceStore=this.store;f.languageUtils=u;f.pluralResolver=new _(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix});if(e&&(!this.options.interpolation.format||this.options.interpolation.format===t.interpolation.format)){f.formatter=i(e);f.formatter.init(f,this.options);this.options.interpolation.format=f.formatter.format.bind(f.formatter)}f.interpolator=new W(this.options);f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)};f.backendConnector=new X(i(this.modules.backend),f.resourceStore,f,this.options);f.backendConnector.on("*",function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++){s[i-1]=arguments[i]}n.emit(e,...s)});if(this.modules.languageDetector){f.languageDetector=i(this.modules.languageDetector);if(f.languageDetector.init)f.languageDetector.init(f,this.options.detection,this.options)}if(this.modules.i18nFormat){f.i18nFormat=i(this.modules.i18nFormat);if(f.i18nFormat.init)f.i18nFormat.init(this)}this.translator=new T(this.services,this.options);this.translator.on("*",function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++){s[i-1]=arguments[i]}n.emit(e,...s)});this.modules.external.forEach(e=>{if(e.init)e.init(this)})}this.format=this.options.interpolation.format;if(!s)s=E;if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);if(c.length>0&&c[0]!=="dev")this.options.lng=c[0]}if(!this.services.languageDetector&&!this.options.lng){this.logger.warn("init: no languageDetector is used and no lng is defined")}const r=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];r.forEach(e=>{this[e]=function(){return n.store[e](...arguments)}});const o=["addResource","addResources","addResourceBundle","removeResourceBundle"];o.forEach(e=>{this[e]=function(){n.store[e](...arguments);return n}});const a=h();const l=()=>{const e=(e,t)=>{this.isInitializing=false;if(this.isInitialized&&!this.initializedStoreOnce)this.logger.warn("init: i18next is already initialized. You should call init just once!");this.isInitialized=true;if(!this.options.isClone)this.logger.log("initialized",this.options);this.emit("initialized",this.options);a.resolve(t);s(e,t)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};if(this.options.resources||!this.options.initImmediate){l()}else{setTimeout(l,0)}return a}loadResources(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:E;let s=t;const i=U(e)?e:this.language;if(typeof e==="function")s=e;if(!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const n=[];const r=e=>{if(!e)return;if(e==="cimode")return;const t=this.services.languageUtils.toResolveHierarchy(e);t.forEach(e=>{if(e==="cimode")return;if(n.indexOf(e)<0)n.push(e)})};if(!i){const o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.forEach(e=>r(e))}else{r(i)}if(this.options.preload){this.options.preload.forEach(e=>r(e))}this.services.backendConnector.load(n,this.options.ns,e=>{if(!e&&!this.resolvedLanguage&&this.language)this.setResolvedLanguage(this.language);s(e)})}else{s(null)}}reloadResources(e,t,s){const i=h();if(typeof e==="function"){s=e;e=undefined}if(typeof t==="function"){s=t;t=undefined}if(!e)e=this.languages;if(!t)t=this.options.ns;if(!s)s=E;this.services.backendConnector.reload(e,t,e=>{i.resolve();s(e)});return i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");if(e.type==="backend"){this.modules.backend=e}if(e.type==="logger"||e.log&&e.warn&&e.error){this.modules.logger=e}if(e.type==="languageDetector"){this.modules.languageDetector=e}if(e.type==="i18nFormat"){this.modules.i18nFormat=e}if(e.type==="postProcessor"){v.addPostProcessor(e)}if(e.type==="formatter"){this.modules.formatter=e}if(e.type==="3rdParty"){this.modules.external.push(e)}return this}setResolvedLanguage(e){if(!e||!this.languages)return;if(["cimode","dev"].indexOf(e)>-1)return;for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(["cimode","dev"].indexOf(t)>-1)continue;if(this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(s,i){var n=this;this.isLanguageChangingTo=s;const r=h();this.emit("languageChanging",s);const o=e=>{this.language=e;this.languages=this.services.languageUtils.toResolveHierarchy(e);this.resolvedLanguage=undefined;this.setResolvedLanguage(e)};const a=(e,t)=>{if(t){o(t);this.translator.changeLanguage(t);this.isLanguageChangingTo=undefined;this.emit("languageChanged",t);this.logger.log("languageChanged",t)}else{this.isLanguageChangingTo=undefined}r.resolve(function(){return n.t(...arguments)});if(i)i(e,function(){return n.t(...arguments)})};const e=e=>{if(!s&&!e&&this.services.languageDetector)e=[];const t=U(e)?e:this.services.languageUtils.getBestMatchFromCodes(e);if(t){if(!this.language){o(t)}if(!this.translator.language)this.translator.changeLanguage(t);if(this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage)this.services.languageDetector.cacheUserLanguage(t)}this.loadResources(t,e=>{a(e,t)})};if(!s&&this.services.languageDetector&&!this.services.languageDetector.async){e(this.services.languageDetector.detect())}else if(!s&&this.services.languageDetector&&this.services.languageDetector.async){if(this.services.languageDetector.detect.length===0){this.services.languageDetector.detect().then(e)}else{this.services.languageDetector.detect(e)}}else{e(s)}return r}getFixedT(e,t,l){var u=this;const f=function(e,t){let s;if(typeof t!=="object"){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++){n[r-2]=arguments[r]}s=u.options.overloadTranslationOptionHandler([e,t].concat(n))}else{s={...t}}s.lng=s.lng||f.lng;s.lngs=s.lngs||f.lngs;s.ns=s.ns||f.ns;if(s.keyPrefix!=="")s.keyPrefix=s.keyPrefix||l||f.keyPrefix;const o=u.options.keySeparator||".";let a;if(s.keyPrefix&&Array.isArray(e)){a=e.map(e=>`${s.keyPrefix}${o}${e}`)}else{a=s.keyPrefix?`${s.keyPrefix}${o}${e}`:e}return u.t(a,s)};if(U(e)){f.lng=e}else{f.lngs=e}f.ns=t;f.keyPrefix=l;return f}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!this.isInitialized){this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages);return false}if(!this.languages||!this.languages.length){this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages);return false}const s=t.lng||this.resolvedLanguage||this.languages[0];const i=this.options?this.options.fallbackLng:false;const n=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return true;const r=(e,t)=>{const s=this.services.backendConnector.state[`${e}|${t}`];return s===-1||s===0||s===2};if(t.precheck){const o=t.precheck(this,r);if(o!==undefined)return o}if(this.hasResourceBundle(s,e))return true;if(!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages)return true;if(r(s,e)&&(!i||r(n,e)))return true;return false}loadNamespaces(e,t){const s=h();if(!this.options.ns){if(t)t();return Promise.resolve()}if(U(e))e=[e];e.forEach(e=>{if(this.options.ns.indexOf(e)<0)this.options.ns.push(e)});this.loadResources(e=>{s.resolve();if(t)t(e)});return s}loadLanguages(e,t){const s=h();if(U(e))e=[e];const i=this.options.preload||[];const n=e.filter(e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));if(!n.length){if(t)t();return Promise.resolve()}this.options.preload=i.concat(n);this.loadResources(e=>{s.resolve();if(t)t(e)});return s}dir(e){if(!e)e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language);if(!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];const s=this.services&&this.services.languageUtils||new L(P());return t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1?arguments[1]:undefined;return new I(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:E;const s=e.forkResourceStore;if(s)delete e.forkResourceStore;const i={...this.options,...e,...{isClone:true}};const n=new I(i);if(e.debug!==undefined||e.prefix!==undefined){n.logger=n.logger.clone(e)}const r=["store","services","language"];r.forEach(e=>{n[e]=this[e]});n.services={...this.services};n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)};if(s){n.store=new S(this.store.data,i);n.services.resourceStore=n.store}n.translator=new T(n.services,i);n.translator.on("*",function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++){s[i-1]=arguments[i]}n.emit(e,...s)});n.init(i,t);n.translator.options=i;n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)};return n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const F=I.createInstance();F.createInstance=I.createInstance;return F});
//# sourceMappingURL=i18next-23.16.4.min.js.map