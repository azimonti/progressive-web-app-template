{"version":3,"file":"/Users/marco/z_not_sync/coding/personal_site/assets/js/lib/i18next-23.16.4.min.js.map","sources":["/Users/marco/z_not_sync/coding/personal_site/dev/js/lib/i18next-23.16.4.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.i18next = factory());\n})(this, (function () { 'use strict';\n\n  const isString = obj => typeof obj === 'string';\n  const defer = () => {\n    let res;\n    let rej;\n    const promise = new Promise((resolve, reject) => {\n      res = resolve;\n      rej = reject;\n    });\n    promise.resolve = res;\n    promise.reject = rej;\n    return promise;\n  };\n  const makeString = object => {\n    if (object == null) return '';\n    return '' + object;\n  };\n  const copy = (a, s, t) => {\n    a.forEach(m => {\n      if (s[m]) t[m] = s[m];\n    });\n  };\n  const lastOfPathSeparatorRegExp = /###/g;\n  const cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\n  const canNotTraverseDeeper = object => !object || isString(object);\n  const getLastOfPath = (object, path, Empty) => {\n    const stack = !isString(path) ? path : path.split('.');\n    let stackIndex = 0;\n    while (stackIndex < stack.length - 1) {\n      if (canNotTraverseDeeper(object)) return {};\n      const key = cleanKey(stack[stackIndex]);\n      if (!object[key] && Empty) object[key] = new Empty();\n      if (Object.prototype.hasOwnProperty.call(object, key)) {\n        object = object[key];\n      } else {\n        object = {};\n      }\n      ++stackIndex;\n    }\n    if (canNotTraverseDeeper(object)) return {};\n    return {\n      obj: object,\n      k: cleanKey(stack[stackIndex])\n    };\n  };\n  const setPath = (object, path, newValue) => {\n    const {\n      obj,\n      k\n    } = getLastOfPath(object, path, Object);\n    if (obj !== undefined || path.length === 1) {\n      obj[k] = newValue;\n      return;\n    }\n    let e = path[path.length - 1];\n    let p = path.slice(0, path.length - 1);\n    let last = getLastOfPath(object, p, Object);\n    while (last.obj === undefined && p.length) {\n      e = `${p[p.length - 1]}.${e}`;\n      p = p.slice(0, p.length - 1);\n      last = getLastOfPath(object, p, Object);\n      if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n        last.obj = undefined;\n      }\n    }\n    last.obj[`${last.k}.${e}`] = newValue;\n  };\n  const pushPath = (object, path, newValue, concat) => {\n    const {\n      obj,\n      k\n    } = getLastOfPath(object, path, Object);\n    obj[k] = obj[k] || [];\n    obj[k].push(newValue);\n  };\n  const getPath = (object, path) => {\n    const {\n      obj,\n      k\n    } = getLastOfPath(object, path);\n    if (!obj) return undefined;\n    return obj[k];\n  };\n  const getPathWithDefaults = (data, defaultData, key) => {\n    const value = getPath(data, key);\n    if (value !== undefined) {\n      return value;\n    }\n    return getPath(defaultData, key);\n  };\n  const deepExtend = (target, source, overwrite) => {\n    for (const prop in source) {\n      if (prop !== '__proto__' && prop !== 'constructor') {\n        if (prop in target) {\n          if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {\n            if (overwrite) target[prop] = source[prop];\n          } else {\n            deepExtend(target[prop], source[prop], overwrite);\n          }\n        } else {\n          target[prop] = source[prop];\n        }\n      }\n    }\n    return target;\n  };\n  const regexEscape = str => str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n  var _entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;'\n  };\n  const escape = data => {\n    if (isString(data)) {\n      return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n    }\n    return data;\n  };\n  class RegExpCache {\n    constructor(capacity) {\n      this.capacity = capacity;\n      this.regExpMap = new Map();\n      this.regExpQueue = [];\n    }\n    getRegExp(pattern) {\n      const regExpFromCache = this.regExpMap.get(pattern);\n      if (regExpFromCache !== undefined) {\n        return regExpFromCache;\n      }\n      const regExpNew = new RegExp(pattern);\n      if (this.regExpQueue.length === this.capacity) {\n        this.regExpMap.delete(this.regExpQueue.shift());\n      }\n      this.regExpMap.set(pattern, regExpNew);\n      this.regExpQueue.push(pattern);\n      return regExpNew;\n    }\n  }\n  const chars = [' ', ',', '?', '!', ';'];\n  const looksLikeObjectPathRegExpCache = new RegExpCache(20);\n  const looksLikeObjectPath = (key, nsSeparator, keySeparator) => {\n    nsSeparator = nsSeparator || '';\n    keySeparator = keySeparator || '';\n    const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n    if (possibleChars.length === 0) return true;\n    const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n    let matched = !r.test(key);\n    if (!matched) {\n      const ki = key.indexOf(keySeparator);\n      if (ki > 0 && !r.test(key.substring(0, ki))) {\n        matched = true;\n      }\n    }\n    return matched;\n  };\n  const deepFind = function (obj, path) {\n    let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n    if (!obj) return undefined;\n    if (obj[path]) return obj[path];\n    const tokens = path.split(keySeparator);\n    let current = obj;\n    for (let i = 0; i < tokens.length;) {\n      if (!current || typeof current !== 'object') {\n        return undefined;\n      }\n      let next;\n      let nextPath = '';\n      for (let j = i; j < tokens.length; ++j) {\n        if (j !== i) {\n          nextPath += keySeparator;\n        }\n        nextPath += tokens[j];\n        next = current[nextPath];\n        if (next !== undefined) {\n          if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n            continue;\n          }\n          i += j - i + 1;\n          break;\n        }\n      }\n      current = next;\n    }\n    return current;\n  };\n  const getCleanedCode = code => code && code.replace('_', '-');\n\n  const consoleLogger = {\n    type: 'logger',\n    log(args) {\n      this.output('log', args);\n    },\n    warn(args) {\n      this.output('warn', args);\n    },\n    error(args) {\n      this.output('error', args);\n    },\n    output(type, args) {\n      if (console && console[type]) console[type].apply(console, args);\n    }\n  };\n  class Logger {\n    constructor(concreteLogger) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.init(concreteLogger, options);\n    }\n    init(concreteLogger) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n    log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this.forward(args, 'log', '', true);\n    }\n    warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return this.forward(args, 'warn', '', true);\n    }\n    error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      return this.forward(args, 'error', '');\n    }\n    deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n    forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;\n      return this.logger[lvl](args);\n    }\n    create(moduleName) {\n      return new Logger(this.logger, {\n        ...{\n          prefix: `${this.prefix}:${moduleName}:`\n        },\n        ...this.options\n      });\n    }\n    clone(options) {\n      options = options || this.options;\n      options.prefix = options.prefix || this.prefix;\n      return new Logger(this.logger, options);\n    }\n  }\n  var baseLogger = new Logger();\n\n  class EventEmitter {\n    constructor() {\n      this.observers = {};\n    }\n    on(events, listener) {\n      events.split(' ').forEach(event => {\n        if (!this.observers[event]) this.observers[event] = new Map();\n        const numListeners = this.observers[event].get(listener) || 0;\n        this.observers[event].set(listener, numListeners + 1);\n      });\n      return this;\n    }\n    off(event, listener) {\n      if (!this.observers[event]) return;\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n      this.observers[event].delete(listener);\n    }\n    emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      if (this.observers[event]) {\n        const cloned = Array.from(this.observers[event].entries());\n        cloned.forEach(_ref => {\n          let [observer, numTimesAdded] = _ref;\n          for (let i = 0; i < numTimesAdded; i++) {\n            observer(...args);\n          }\n        });\n      }\n      if (this.observers['*']) {\n        const cloned = Array.from(this.observers['*'].entries());\n        cloned.forEach(_ref2 => {\n          let [observer, numTimesAdded] = _ref2;\n          for (let i = 0; i < numTimesAdded; i++) {\n            observer.apply(observer, [event, ...args]);\n          }\n        });\n      }\n    }\n  }\n\n  class ResourceStore extends EventEmitter {\n    constructor(data) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        ns: ['translation'],\n        defaultNS: 'translation'\n      };\n      super();\n      this.data = data || {};\n      this.options = options;\n      if (this.options.keySeparator === undefined) {\n        this.options.keySeparator = '.';\n      }\n      if (this.options.ignoreJSONStructure === undefined) {\n        this.options.ignoreJSONStructure = true;\n      }\n    }\n    addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n    removeNamespaces(ns) {\n      const index = this.options.ns.indexOf(ns);\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n    getResource(lng, ns, key) {\n      let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n      let path;\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      } else {\n        path = [lng, ns];\n        if (key) {\n          if (Array.isArray(key)) {\n            path.push(...key);\n          } else if (isString(key) && keySeparator) {\n            path.push(...key.split(keySeparator));\n          } else {\n            path.push(key);\n          }\n        }\n      }\n      const result = getPath(this.data, path);\n      if (!result && !ns && !key && lng.indexOf('.') > -1) {\n        lng = path[0];\n        ns = path[1];\n        key = path.slice(2).join('.');\n      }\n      if (result || !ignoreJSONStructure || !isString(key)) return result;\n      return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n    }\n    addResource(lng, ns, key, value) {\n      let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      let path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n    addResources(lng, ns, resources) {\n      let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n      for (const m in resources) {\n        if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n    addResourceBundle(lng, ns, resources, deep, overwrite) {\n      let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false,\n        skipCopy: false\n      };\n      let path = [lng, ns];\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n      this.addNamespaces(ns);\n      let pack = getPath(this.data, path) || {};\n      if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = {\n          ...pack,\n          ...resources\n        };\n      }\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n    removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n    hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n    getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return {\n        ...{},\n        ...this.getResource(lng, ns)\n      };\n      return this.getResource(lng, ns);\n    }\n    getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n    hasLanguageSomeTranslations(lng) {\n      const data = this.getDataByLanguage(lng);\n      const n = data && Object.keys(data) || [];\n      return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n    }\n    toJSON() {\n      return this.data;\n    }\n  }\n\n  var postProcessor = {\n    processors: {},\n    addPostProcessor(module) {\n      this.processors[module.name] = module;\n    },\n    handle(processors, value, key, options, translator) {\n      processors.forEach(processor => {\n        if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n      });\n      return value;\n    }\n  };\n\n  const checkedLoadedFor = {};\n  class Translator extends EventEmitter {\n    constructor(services) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      super();\n      copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n      this.options = options;\n      if (this.options.keySeparator === undefined) {\n        this.options.keySeparator = '.';\n      }\n      this.logger = baseLogger.create('translator');\n    }\n    changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n    exists(key) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      if (key === undefined || key === null) {\n        return false;\n      }\n      const resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n    extractFromKey(key, options) {\n      let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      let namespaces = options.ns || this.options.defaultNS || [];\n      const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n      const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n      if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n        const m = key.match(this.interpolator.nestingRegexp);\n        if (m && m.length > 0) {\n          return {\n            key,\n            namespaces\n          };\n        }\n        const parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n      if (isString(namespaces)) namespaces = [namespaces];\n      return {\n        key,\n        namespaces\n      };\n    }\n    translate(keys, options, lastKey) {\n      if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n      if (typeof options === 'object') options = {\n        ...options\n      };\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n      const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      const {\n        key,\n        namespaces\n      } = this.extractFromKey(keys[keys.length - 1], options);\n      const namespace = namespaces[namespaces.length - 1];\n      const lng = options.lng || this.language;\n      const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          if (returnDetails) {\n            return {\n              res: `${namespace}${nsSeparator}${key}`,\n              usedKey: key,\n              exactUsedKey: key,\n              usedLng: lng,\n              usedNS: namespace,\n              usedParams: this.getUsedParamsDetails(options)\n            };\n          }\n          return `${namespace}${nsSeparator}${key}`;\n        }\n        if (returnDetails) {\n          return {\n            res: key,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options)\n          };\n        }\n        return key;\n      }\n      const resolved = this.resolve(keys, options);\n      let res = resolved && resolved.res;\n      const resUsedKey = resolved && resolved.usedKey || key;\n      const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      const resType = Object.prototype.toString.apply(res);\n      const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      const handleAsObject = !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(res))) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          if (!this.options.returnedObjectHandler) {\n            this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          }\n          const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n            ...options,\n            ns: namespaces\n          }) : `key '${key} (${this.language})' returned an object instead of string.`;\n          if (returnDetails) {\n            resolved.res = r;\n            resolved.usedParams = this.getUsedParamsDetails(options);\n            return resolved;\n          }\n          return r;\n        }\n        if (keySeparator) {\n          const resTypeIsArray = Array.isArray(res);\n          const copy = resTypeIsArray ? [] : {};\n          const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n          for (const m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n              copy[m] = this.translate(deepKey, {\n                ...options,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n              if (copy[m] === deepKey) copy[m] = res[m];\n            }\n          }\n          res = copy;\n        }\n      } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        let usedDefault = false;\n        let usedKey = false;\n        const needsPluralHandling = options.count !== undefined && !isString(options.count);\n        const hasDefaultValue = Translator.hasDefaultValue(options);\n        const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n        const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n          ordinal: false\n        }) : '';\n        const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n        const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n        if (!this.isValidLookup(res) && hasDefaultValue) {\n          usedDefault = true;\n          res = defaultValue;\n        }\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n        const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n        const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n        const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n          if (keySeparator) {\n            const fk = this.resolve(key, {\n              ...options,\n              keySeparator: false\n            });\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n          let lngs = [];\n          const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (let i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n          const send = (l, k, specificDefaultValue) => {\n            const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n            if (this.options.missingKeyHandler) {\n              this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n            } else if (this.backendConnector && this.backendConnector.saveMissing) {\n              this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n            }\n            this.emit('missingKey', l, namespace, k, res);\n          };\n          if (this.options.saveMissing) {\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(language => {\n                const suffixes = this.pluralResolver.getSuffixes(language, options);\n                if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                  suffixes.push(`${this.options.pluralSeparator}zero`);\n                }\n                suffixes.forEach(suffix => {\n                  send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n                });\n              });\n            } else {\n              send(lngs, key, defaultValue);\n            }\n          }\n        }\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n        if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n          if (this.options.compatibilityAPI !== 'v1') {\n            res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n          } else {\n            res = this.options.parseMissingKeyHandler(res);\n          }\n        }\n      }\n      if (returnDetails) {\n        resolved.res = res;\n        resolved.usedParams = this.getUsedParamsDetails(options);\n        return resolved;\n      }\n      return res;\n    }\n    extendTranslation(res, key, options, resolved, lastKey) {\n      var _this = this;\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, {\n          ...this.options.interpolation.defaultVariables,\n          ...options\n        }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init({\n          ...options,\n          ...{\n            interpolation: {\n              ...this.options.interpolation,\n              ...options.interpolation\n            }\n          }\n        });\n        const skipOnVariables = isString(res) && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n        let nestBef;\n        if (skipOnVariables) {\n          const nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n        let data = options.replace && !isString(options.replace) ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = {\n          ...this.options.interpolation.defaultVariables,\n          ...data\n        };\n        res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);\n        if (skipOnVariables) {\n          const na = res.match(this.interpolator.nestingRegexp);\n          const nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n        if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = this.language || resolved.usedLng;\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          if (lastKey && lastKey[0] === args[0] && !options.context) {\n            _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n            return null;\n          }\n          return _this.translate(...args, key);\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n      const postProcess = options.postProcess || this.options.postProcess;\n      const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n          i18nResolved: {\n            ...resolved,\n            usedParams: this.getUsedParamsDetails(options)\n          },\n          ...options\n        } : options, this);\n      }\n      return res;\n    }\n    resolve(keys) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let found;\n      let usedKey;\n      let exactUsedKey;\n      let usedLng;\n      let usedNS;\n      if (isString(keys)) keys = [keys];\n      keys.forEach(k => {\n        if (this.isValidLookup(found)) return;\n        const extracted = this.extractFromKey(k, options);\n        const key = extracted.key;\n        usedKey = key;\n        let namespaces = extracted.namespaces;\n        if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n        const needsPluralHandling = options.count !== undefined && !isString(options.count);\n        const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n        const needsContextHandling = options.context !== undefined && (isString(options.context) || typeof options.context === 'number') && options.context !== '';\n        const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n        namespaces.forEach(ns => {\n          if (this.isValidLookup(found)) return;\n          usedNS = ns;\n          if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n            this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n          codes.forEach(code => {\n            if (this.isValidLookup(found)) return;\n            usedLng = code;\n            const finalKeys = [key];\n            if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n              this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              let pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n              const zeroSuffix = `${this.options.pluralSeparator}zero`;\n              const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n              if (needsPluralHandling) {\n                finalKeys.push(key + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(key + zeroSuffix);\n                }\n              }\n              if (needsContextHandling) {\n                const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n                finalKeys.push(contextKey);\n                if (needsPluralHandling) {\n                  finalKeys.push(contextKey + pluralSuffix);\n                  if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                    finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                  }\n                  if (needsZeroSuffixLookup) {\n                    finalKeys.push(contextKey + zeroSuffix);\n                  }\n                }\n              }\n            }\n            let possibleKey;\n            while (possibleKey = finalKeys.pop()) {\n              if (!this.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = this.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey,\n        exactUsedKey,\n        usedLng,\n        usedNS\n      };\n    }\n    isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n    getResource(code, ns, key) {\n      let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n    getUsedParamsDetails() {\n      let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n      const useOptionsReplaceForData = options.replace && !isString(options.replace);\n      let data = useOptionsReplaceForData ? options.replace : options;\n      if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n        data.count = options.count;\n      }\n      if (this.options.interpolation.defaultVariables) {\n        data = {\n          ...this.options.interpolation.defaultVariables,\n          ...data\n        };\n      }\n      if (!useOptionsReplaceForData) {\n        data = {\n          ...data\n        };\n        for (const key of optionsKeys) {\n          delete data[key];\n        }\n      }\n      return data;\n    }\n    static hasDefaultValue(options) {\n      const prefix = 'defaultValue';\n      for (const option in options) {\n        if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }\n\n  const capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);\n  class LanguageUtil {\n    constructor(options) {\n      this.options = options;\n      this.supportedLngs = this.options.supportedLngs || false;\n      this.logger = baseLogger.create('languageUtils');\n    }\n    getScriptPartFromCode(code) {\n      code = getCleanedCode(code);\n      if (!code || code.indexOf('-') < 0) return null;\n      const p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n    getLanguagePartFromCode(code) {\n      code = getCleanedCode(code);\n      if (!code || code.indexOf('-') < 0) return code;\n      const p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n    formatLanguageCode(code) {\n      if (isString(code) && code.indexOf('-') > -1) {\n        if (typeof Intl !== 'undefined' && typeof Intl.getCanonicalLocales !== 'undefined') {\n          try {\n            let formattedCode = Intl.getCanonicalLocales(code)[0];\n            if (formattedCode && this.options.lowerCaseLng) {\n              formattedCode = formattedCode.toLowerCase();\n            }\n            if (formattedCode) return formattedCode;\n          } catch (e) {}\n        }\n        const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        let p = code.split('-');\n        if (this.options.lowerCaseLng) {\n          p = p.map(part => part.toLowerCase());\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n        return p.join('-');\n      }\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n    isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n    getBestMatchFromCodes(codes) {\n      if (!codes) return null;\n      let found;\n      codes.forEach(code => {\n        if (found) return;\n        const cleanedLng = this.formatLanguageCode(code);\n        if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(code => {\n          if (found) return;\n          const lngOnly = this.getLanguagePartFromCode(code);\n          if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = this.options.supportedLngs.find(supportedLng => {\n            if (supportedLng === lngOnly) return supportedLng;\n            if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n            if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n            if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n          });\n        });\n      }\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n    getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n      if (isString(fallbacks)) fallbacks = [fallbacks];\n      if (Array.isArray(fallbacks)) return fallbacks;\n      if (!code) return fallbacks.default || [];\n      let found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks.default;\n      return found || [];\n    }\n    toResolveHierarchy(code, fallbackCode) {\n      const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      const codes = [];\n      const addCode = c => {\n        if (!c) return;\n        if (this.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n        }\n      };\n      if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (isString(code)) {\n        addCode(this.formatLanguageCode(code));\n      }\n      fallbackCodes.forEach(fc => {\n        if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }\n\n  let sets = [{\n    lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n    nr: [1, 2],\n    fc: 1\n  }, {\n    lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n    nr: [1, 2],\n    fc: 2\n  }, {\n    lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n    nr: [1],\n    fc: 3\n  }, {\n    lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n    nr: [1, 2, 5],\n    fc: 4\n  }, {\n    lngs: ['ar'],\n    nr: [0, 1, 2, 3, 11, 100],\n    fc: 5\n  }, {\n    lngs: ['cs', 'sk'],\n    nr: [1, 2, 5],\n    fc: 6\n  }, {\n    lngs: ['csb', 'pl'],\n    nr: [1, 2, 5],\n    fc: 7\n  }, {\n    lngs: ['cy'],\n    nr: [1, 2, 3, 8],\n    fc: 8\n  }, {\n    lngs: ['fr'],\n    nr: [1, 2],\n    fc: 9\n  }, {\n    lngs: ['ga'],\n    nr: [1, 2, 3, 7, 11],\n    fc: 10\n  }, {\n    lngs: ['gd'],\n    nr: [1, 2, 3, 20],\n    fc: 11\n  }, {\n    lngs: ['is'],\n    nr: [1, 2],\n    fc: 12\n  }, {\n    lngs: ['jv'],\n    nr: [0, 1],\n    fc: 13\n  }, {\n    lngs: ['kw'],\n    nr: [1, 2, 3, 4],\n    fc: 14\n  }, {\n    lngs: ['lt'],\n    nr: [1, 2, 10],\n    fc: 15\n  }, {\n    lngs: ['lv'],\n    nr: [1, 2, 0],\n    fc: 16\n  }, {\n    lngs: ['mk'],\n    nr: [1, 2],\n    fc: 17\n  }, {\n    lngs: ['mnk'],\n    nr: [0, 1, 2],\n    fc: 18\n  }, {\n    lngs: ['mt'],\n    nr: [1, 2, 11, 20],\n    fc: 19\n  }, {\n    lngs: ['or'],\n    nr: [2, 1],\n    fc: 2\n  }, {\n    lngs: ['ro'],\n    nr: [1, 2, 20],\n    fc: 20\n  }, {\n    lngs: ['sl'],\n    nr: [5, 1, 2, 3],\n    fc: 21\n  }, {\n    lngs: ['he', 'iw'],\n    nr: [1, 2, 20, 21],\n    fc: 22\n  }];\n  let _rulesPluralsTypes = {\n    1: n => Number(n > 1),\n    2: n => Number(n != 1),\n    3: n => 0,\n    4: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n    5: n => Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5),\n    6: n => Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2),\n    7: n => Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n    8: n => Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3),\n    9: n => Number(n >= 2),\n    10: n => Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4),\n    11: n => Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3),\n    12: n => Number(n % 10 != 1 || n % 100 == 11),\n    13: n => Number(n !== 0),\n    14: n => Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3),\n    15: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n    16: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2),\n    17: n => Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1),\n    18: n => Number(n == 0 ? 0 : n == 1 ? 1 : 2),\n    19: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3),\n    20: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2),\n    21: n => Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0),\n    22: n => Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3)\n  };\n  const nonIntlVersions = ['v1', 'v2', 'v3'];\n  const intlVersions = ['v4'];\n  const suffixesOrder = {\n    zero: 0,\n    one: 1,\n    two: 2,\n    few: 3,\n    many: 4,\n    other: 5\n  };\n  const createRules = () => {\n    const rules = {};\n    sets.forEach(set => {\n      set.lngs.forEach(l => {\n        rules[l] = {\n          numbers: set.nr,\n          plurals: _rulesPluralsTypes[set.fc]\n        };\n      });\n    });\n    return rules;\n  };\n  class PluralResolver {\n    constructor(languageUtils) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.languageUtils = languageUtils;\n      this.options = options;\n      this.logger = baseLogger.create('pluralResolver');\n      if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n        this.options.compatibilityJSON = 'v3';\n        this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n      }\n      this.rules = createRules();\n      this.pluralRulesCache = {};\n    }\n    addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n    clearCache() {\n      this.pluralRulesCache = {};\n    }\n    getRule(code) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (this.shouldUseIntlApi()) {\n        try {\n          const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);\n          const type = options.ordinal ? 'ordinal' : 'cardinal';\n          const cacheKey = JSON.stringify({\n            cleanedCode,\n            type\n          });\n          if (cacheKey in this.pluralRulesCache) {\n            return this.pluralRulesCache[cacheKey];\n          }\n          const rule = new Intl.PluralRules(cleanedCode, {\n            type\n          });\n          this.pluralRulesCache[cacheKey] = rule;\n          return rule;\n        } catch (err) {\n          return;\n        }\n      }\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n    needsPlural(code) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      const rule = this.getRule(code, options);\n      if (this.shouldUseIntlApi()) {\n        return rule && rule.resolvedOptions().pluralCategories.length > 1;\n      }\n      return rule && rule.numbers.length > 1;\n    }\n    getPluralFormsOfKey(code, key) {\n      let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n    }\n    getSuffixes(code) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      const rule = this.getRule(code, options);\n      if (!rule) {\n        return [];\n      }\n      if (this.shouldUseIntlApi()) {\n        return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n      }\n      return rule.numbers.map(number => this.getSuffix(code, number, options));\n    }\n    getSuffix(code, count) {\n      let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      const rule = this.getRule(code, options);\n      if (rule) {\n        if (this.shouldUseIntlApi()) {\n          return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n        }\n        return this.getSuffixRetroCompatible(rule, count);\n      }\n      this.logger.warn(`no plural rule found for: ${code}`);\n      return '';\n    }\n    getSuffixRetroCompatible(rule, count) {\n      const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n      let suffix = rule.numbers[idx];\n      if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        if (suffix === 2) {\n          suffix = 'plural';\n        } else if (suffix === 1) {\n          suffix = '';\n        }\n      }\n      const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n      if (this.options.compatibilityJSON === 'v1') {\n        if (suffix === 1) return '';\n        if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n        return returnSuffix();\n      } else if (this.options.compatibilityJSON === 'v2') {\n        return returnSuffix();\n      } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        return returnSuffix();\n      }\n      return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n    }\n    shouldUseIntlApi() {\n      return !nonIntlVersions.includes(this.options.compatibilityJSON);\n    }\n  }\n\n  const deepFindWithDefaults = function (data, defaultData, key) {\n    let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n    let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    let path = getPathWithDefaults(data, defaultData, key);\n    if (!path && ignoreJSONStructure && isString(key)) {\n      path = deepFind(data, key, keySeparator);\n      if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n    }\n    return path;\n  };\n  const regexSafe = val => val.replace(/\\$/g, '$$$$');\n  class Interpolator {\n    constructor() {\n      let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.logger = baseLogger.create('interpolator');\n      this.options = options;\n      this.format = options.interpolation && options.interpolation.format || (value => value);\n      this.init(options);\n    }\n    init() {\n      let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      const {\n        escape: escape$1,\n        escapeValue,\n        useRawValueToEscape,\n        prefix,\n        prefixEscaped,\n        suffix,\n        suffixEscaped,\n        formatSeparator,\n        unescapeSuffix,\n        unescapePrefix,\n        nestingPrefix,\n        nestingPrefixEscaped,\n        nestingSuffix,\n        nestingSuffixEscaped,\n        nestingOptionsSeparator,\n        maxReplaces,\n        alwaysFormat\n      } = options.interpolation;\n      this.escape = escape$1 !== undefined ? escape$1 : escape;\n      this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n      this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n      this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n      this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n      this.formatSeparator = formatSeparator || ',';\n      this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n      this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n      this.maxReplaces = maxReplaces || 1000;\n      this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n      this.resetRegExp();\n    }\n    reset() {\n      if (this.options) this.init(this.options);\n    }\n    resetRegExp() {\n      const getOrResetRegExp = (existingRegExp, pattern) => {\n        if (existingRegExp && existingRegExp.source === pattern) {\n          existingRegExp.lastIndex = 0;\n          return existingRegExp;\n        }\n        return new RegExp(pattern, 'g');\n      };\n      this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n      this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n      this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);\n    }\n    interpolate(str, data, lng, options) {\n      let match;\n      let value;\n      let replaces;\n      const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n      const handleFormat = key => {\n        if (key.indexOf(this.formatSeparator) < 0) {\n          const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n          return this.alwaysFormat ? this.format(path, undefined, lng, {\n            ...options,\n            ...data,\n            interpolationkey: key\n          }) : path;\n        }\n        const p = key.split(this.formatSeparator);\n        const k = p.shift().trim();\n        const f = p.join(this.formatSeparator).trim();\n        return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n          ...options,\n          ...data,\n          interpolationkey: k\n        });\n      };\n      this.resetRegExp();\n      const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n      const todos = [{\n        regex: this.regexpUnescape,\n        safeValue: val => regexSafe(val)\n      }, {\n        regex: this.regexp,\n        safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n      }];\n      todos.forEach(todo => {\n        replaces = 0;\n        while (match = todo.regex.exec(str)) {\n          const matchedVar = match[1].trim();\n          value = handleFormat(matchedVar);\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              const temp = missingInterpolationHandler(str, match, options);\n              value = isString(temp) ? temp : '';\n            } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n              value = '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n              value = '';\n            }\n          } else if (!isString(value) && !this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n          const safeValue = todo.safeValue(value);\n          str = str.replace(match[0], safeValue);\n          if (skipOnVariables) {\n            todo.regex.lastIndex += value.length;\n            todo.regex.lastIndex -= match[0].length;\n          } else {\n            todo.regex.lastIndex = 0;\n          }\n          replaces++;\n          if (replaces >= this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n    nest(str, fc) {\n      let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      let match;\n      let value;\n      let clonedOptions;\n      const handleHasOptions = (key, inheritedOptions) => {\n        const sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        const c = key.split(new RegExp(`${sep}[ ]*{`));\n        let optionsString = `{${c[1]}`;\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        const matchedSingleQuotes = optionsString.match(/'/g);\n        const matchedDoubleQuotes = optionsString.match(/\"/g);\n        if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n          optionsString = optionsString.replace(/'/g, '\"');\n        }\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = {\n            ...inheritedOptions,\n            ...clonedOptions\n          };\n        } catch (e) {\n          this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n          return `${key}${sep}${optionsString}`;\n        }\n        if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n        return key;\n      };\n      while (match = this.nestingRegexp.exec(str)) {\n        let formatters = [];\n        clonedOptions = {\n          ...options\n        };\n        clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;\n        clonedOptions.applyPostProcessor = false;\n        delete clonedOptions.defaultValue;\n        let doReduce = false;\n        if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n          const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && !isString(value)) return value;\n        if (!isString(value)) value = makeString(value);\n        if (!value) {\n          this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n          value = '';\n        }\n        if (doReduce) {\n          value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n            ...options,\n            interpolationkey: match[1].trim()\n          }), value.trim());\n        }\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n      return str;\n    }\n  }\n\n  const parseFormatStr = formatStr => {\n    let formatName = formatStr.toLowerCase().trim();\n    const formatOptions = {};\n    if (formatStr.indexOf('(') > -1) {\n      const p = formatStr.split('(');\n      formatName = p[0].toLowerCase().trim();\n      const optStr = p[1].substring(0, p[1].length - 1);\n      if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n        if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n      } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n        if (!formatOptions.range) formatOptions.range = optStr.trim();\n      } else {\n        const opts = optStr.split(';');\n        opts.forEach(opt => {\n          if (opt) {\n            const [key, ...rest] = opt.split(':');\n            const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n            const trimmedKey = key.trim();\n            if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n            if (val === 'false') formatOptions[trimmedKey] = false;\n            if (val === 'true') formatOptions[trimmedKey] = true;\n            if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n          }\n        });\n      }\n    }\n    return {\n      formatName,\n      formatOptions\n    };\n  };\n  const createCachedFormatter = fn => {\n    const cache = {};\n    return (val, lng, options) => {\n      let optForCache = options;\n      if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {\n        optForCache = {\n          ...optForCache,\n          [options.interpolationkey]: undefined\n        };\n      }\n      const key = lng + JSON.stringify(optForCache);\n      let formatter = cache[key];\n      if (!formatter) {\n        formatter = fn(getCleanedCode(lng), options);\n        cache[key] = formatter;\n      }\n      return formatter(val);\n    };\n  };\n  class Formatter {\n    constructor() {\n      let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.logger = baseLogger.create('formatter');\n      this.options = options;\n      this.formats = {\n        number: createCachedFormatter((lng, opt) => {\n          const formatter = new Intl.NumberFormat(lng, {\n            ...opt\n          });\n          return val => formatter.format(val);\n        }),\n        currency: createCachedFormatter((lng, opt) => {\n          const formatter = new Intl.NumberFormat(lng, {\n            ...opt,\n            style: 'currency'\n          });\n          return val => formatter.format(val);\n        }),\n        datetime: createCachedFormatter((lng, opt) => {\n          const formatter = new Intl.DateTimeFormat(lng, {\n            ...opt\n          });\n          return val => formatter.format(val);\n        }),\n        relativetime: createCachedFormatter((lng, opt) => {\n          const formatter = new Intl.RelativeTimeFormat(lng, {\n            ...opt\n          });\n          return val => formatter.format(val, opt.range || 'day');\n        }),\n        list: createCachedFormatter((lng, opt) => {\n          const formatter = new Intl.ListFormat(lng, {\n            ...opt\n          });\n          return val => formatter.format(val);\n        })\n      };\n      this.init(options);\n    }\n    init(services) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      this.formatSeparator = options.interpolation.formatSeparator || ',';\n    }\n    add(name, fc) {\n      this.formats[name.toLowerCase().trim()] = fc;\n    }\n    addCached(name, fc) {\n      this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n    }\n    format(value, format, lng) {\n      let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      const formats = format.split(this.formatSeparator);\n      if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {\n        const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);\n        formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);\n      }\n      const result = formats.reduce((mem, f) => {\n        const {\n          formatName,\n          formatOptions\n        } = parseFormatStr(f);\n        if (this.formats[formatName]) {\n          let formatted = mem;\n          try {\n            const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n            const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n            formatted = this.formats[formatName](mem, l, {\n              ...formatOptions,\n              ...options,\n              ...valOptions\n            });\n          } catch (error) {\n            this.logger.warn(error);\n          }\n          return formatted;\n        } else {\n          this.logger.warn(`there was no format function for ${formatName}`);\n        }\n        return mem;\n      }, value);\n      return result;\n    }\n  }\n\n  const removePending = (q, name) => {\n    if (q.pending[name] !== undefined) {\n      delete q.pending[name];\n      q.pendingCount--;\n    }\n  };\n  class Connector extends EventEmitter {\n    constructor(backend, store, services) {\n      let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      super();\n      this.backend = backend;\n      this.store = store;\n      this.services = services;\n      this.languageUtils = services.languageUtils;\n      this.options = options;\n      this.logger = baseLogger.create('backendConnector');\n      this.waitingReads = [];\n      this.maxParallelReads = options.maxParallelReads || 10;\n      this.readingCalls = 0;\n      this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n      this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n      this.state = {};\n      this.queue = [];\n      if (this.backend && this.backend.init) {\n        this.backend.init(services, options.backend, options);\n      }\n    }\n    queueLoad(languages, namespaces, options, callback) {\n      const toLoad = {};\n      const pending = {};\n      const toLoadLanguages = {};\n      const toLoadNamespaces = {};\n      languages.forEach(lng => {\n        let hasAllNamespaces = true;\n        namespaces.forEach(ns => {\n          const name = `${lng}|${ns}`;\n          if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n            this.state[name] = 2;\n          } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n            if (pending[name] === undefined) pending[name] = true;\n          } else {\n            this.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending[name] === undefined) pending[name] = true;\n            if (toLoad[name] === undefined) toLoad[name] = true;\n            if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n      });\n      if (Object.keys(toLoad).length || Object.keys(pending).length) {\n        this.queue.push({\n          pending,\n          pendingCount: Object.keys(pending).length,\n          loaded: {},\n          errors: [],\n          callback\n        });\n      }\n      return {\n        toLoad: Object.keys(toLoad),\n        pending: Object.keys(pending),\n        toLoadLanguages: Object.keys(toLoadLanguages),\n        toLoadNamespaces: Object.keys(toLoadNamespaces)\n      };\n    }\n    loaded(name, err, data) {\n      const s = name.split('|');\n      const lng = s[0];\n      const ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n      if (!err && data) {\n        this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n          skipCopy: true\n        });\n      }\n      this.state[name] = err ? -1 : 2;\n      if (err && data) this.state[name] = 0;\n      const loaded = {};\n      this.queue.forEach(q => {\n        pushPath(q.loaded, [lng], ns);\n        removePending(q, name);\n        if (err) q.errors.push(err);\n        if (q.pendingCount === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(l => {\n            if (!loaded[l]) loaded[l] = {};\n            const loadedKeys = q.loaded[l];\n            if (loadedKeys.length) {\n              loadedKeys.forEach(n => {\n                if (loaded[l][n] === undefined) loaded[l][n] = true;\n              });\n            }\n          });\n          q.done = true;\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(q => !q.done);\n    }\n    read(lng, ns, fcName) {\n      let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n      let callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n      if (this.readingCalls >= this.maxParallelReads) {\n        this.waitingReads.push({\n          lng,\n          ns,\n          fcName,\n          tried,\n          wait,\n          callback\n        });\n        return;\n      }\n      this.readingCalls++;\n      const resolver = (err, data) => {\n        this.readingCalls--;\n        if (this.waitingReads.length > 0) {\n          const next = this.waitingReads.shift();\n          this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n        }\n        if (err && data && tried < this.maxRetries) {\n          setTimeout(() => {\n            this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n        callback(err, data);\n      };\n      const fc = this.backend[fcName].bind(this.backend);\n      if (fc.length === 2) {\n        try {\n          const r = fc(lng, ns);\n          if (r && typeof r.then === 'function') {\n            r.then(data => resolver(null, data)).catch(resolver);\n          } else {\n            resolver(null, r);\n          }\n        } catch (err) {\n          resolver(err);\n        }\n        return;\n      }\n      return fc(lng, ns, resolver);\n    }\n    prepareLoading(languages, namespaces) {\n      let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      let callback = arguments.length > 3 ? arguments[3] : undefined;\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n      if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);\n      if (isString(namespaces)) namespaces = [namespaces];\n      const toLoad = this.queueLoad(languages, namespaces, options, callback);\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n      toLoad.toLoad.forEach(name => {\n        this.loadOne(name);\n      });\n    }\n    load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n    reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n    loadOne(name) {\n      let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      const s = name.split('|');\n      const lng = s[0];\n      const ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n        if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n        if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n        this.loaded(name, err, data);\n      });\n    }\n    saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n      let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n      if (key === undefined || key === null || key === '') return;\n      if (this.backend && this.backend.create) {\n        const opts = {\n          ...options,\n          isUpdate\n        };\n        const fc = this.backend.create.bind(this.backend);\n        if (fc.length < 6) {\n          try {\n            let r;\n            if (fc.length === 5) {\n              r = fc(languages, namespace, key, fallbackValue, opts);\n            } else {\n              r = fc(languages, namespace, key, fallbackValue);\n            }\n            if (r && typeof r.then === 'function') {\n              r.then(data => clb(null, data)).catch(clb);\n            } else {\n              clb(null, r);\n            }\n          } catch (err) {\n            clb(err);\n          }\n        } else {\n          fc(languages, namespace, key, fallbackValue, clb, opts);\n        }\n      }\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }\n\n  const get = () => ({\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: false,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: args => {\n      let ret = {};\n      if (typeof args[1] === 'object') ret = args[1];\n      if (isString(args[1])) ret.defaultValue = args[1];\n      if (isString(args[2])) ret.tDescription = args[2];\n      if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n        const options = args[3] || args[2];\n        Object.keys(options).forEach(key => {\n          ret[key] = options[key];\n        });\n      }\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: value => value,\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  });\n  const transformOptions = options => {\n    if (isString(options.ns)) options.ns = [options.ns];\n    if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];\n    if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];\n    if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n      options.supportedLngs = options.supportedLngs.concat(['cimode']);\n    }\n    return options;\n  };\n\n  const noop = () => {};\n  const bindMemberFunctions = inst => {\n    const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n    mems.forEach(mem => {\n      if (typeof inst[mem] === 'function') {\n        inst[mem] = inst[mem].bind(inst);\n      }\n    });\n  };\n  class I18n extends EventEmitter {\n    constructor() {\n      let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      let callback = arguments.length > 1 ? arguments[1] : undefined;\n      super();\n      this.options = transformOptions(options);\n      this.services = {};\n      this.logger = baseLogger;\n      this.modules = {\n        external: []\n      };\n      bindMemberFunctions(this);\n      if (callback && !this.isInitialized && !options.isClone) {\n        if (!this.options.initImmediate) {\n          this.init(options, callback);\n          return this;\n        }\n        setTimeout(() => {\n          this.init(options, callback);\n        }, 0);\n      }\n    }\n    init() {\n      var _this = this;\n      let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      let callback = arguments.length > 1 ? arguments[1] : undefined;\n      this.isInitializing = true;\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n      if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n        if (isString(options.ns)) {\n          options.defaultNS = options.ns;\n        } else if (options.ns.indexOf('translation') < 0) {\n          options.defaultNS = options.ns[0];\n        }\n      }\n      const defOpts = get();\n      this.options = {\n        ...defOpts,\n        ...this.options,\n        ...transformOptions(options)\n      };\n      if (this.options.compatibilityAPI !== 'v1') {\n        this.options.interpolation = {\n          ...defOpts.interpolation,\n          ...this.options.interpolation\n        };\n      }\n      if (options.keySeparator !== undefined) {\n        this.options.userDefinedKeySeparator = options.keySeparator;\n      }\n      if (options.nsSeparator !== undefined) {\n        this.options.userDefinedNsSeparator = options.nsSeparator;\n      }\n      const createClassOnDemand = ClassOrObject => {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      };\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n        let formatter;\n        if (this.modules.formatter) {\n          formatter = this.modules.formatter;\n        } else if (typeof Intl !== 'undefined') {\n          formatter = Formatter;\n        }\n        const lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        const s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n        if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n          s.formatter = createClassOnDemand(formatter);\n          s.formatter.init(s, this.options);\n          this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n        }\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n          _this.emit(event, ...args);\n        });\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n        }\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n          _this.emit(event, ...args);\n        });\n        this.modules.external.forEach(m => {\n          if (m.init) m.init(this);\n        });\n      }\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n      if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n        const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n      }\n      if (!this.services.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n      const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(fcName => {\n        this[fcName] = function () {\n          return _this.store[fcName](...arguments);\n        };\n      });\n      const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(fcName => {\n        this[fcName] = function () {\n          _this.store[fcName](...arguments);\n          return _this;\n        };\n      });\n      const deferred = defer();\n      const load = () => {\n        const finish = (err, t) => {\n          this.isInitializing = false;\n          if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n          this.isInitialized = true;\n          if (!this.options.isClone) this.logger.log('initialized', this.options);\n          this.emit('initialized', this.options);\n          deferred.resolve(t);\n          callback(err, t);\n        };\n        if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n        this.changeLanguage(this.options.lng, finish);\n      };\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n      return deferred;\n    }\n    loadResources(language) {\n      let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      let usedCallback = callback;\n      const usedLng = isString(language) ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n        const toLoad = [];\n        const append = lng => {\n          if (!lng) return;\n          if (lng === 'cimode') return;\n          const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n          lngs.forEach(l => {\n            if (l === 'cimode') return;\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n        if (!usedLng) {\n          const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(l => append(l));\n        } else {\n          append(usedLng);\n        }\n        if (this.options.preload) {\n          this.options.preload.forEach(l => append(l));\n        }\n        this.services.backendConnector.load(toLoad, this.options.ns, e => {\n          if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n          usedCallback(e);\n        });\n      } else {\n        usedCallback(null);\n      }\n    }\n    reloadResources(lngs, ns, callback) {\n      const deferred = defer();\n      if (typeof lngs === 'function') {\n        callback = lngs;\n        lngs = undefined;\n      }\n      if (typeof ns === 'function') {\n        callback = ns;\n        ns = undefined;\n      }\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, err => {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n    use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n      if (module.type === 'formatter') {\n        this.modules.formatter = module;\n      }\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n      return this;\n    }\n    setResolvedLanguage(l) {\n      if (!l || !this.languages) return;\n      if (['cimode', 'dev'].indexOf(l) > -1) return;\n      for (let li = 0; li < this.languages.length; li++) {\n        const lngInLngs = this.languages[li];\n        if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n        if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n          this.resolvedLanguage = lngInLngs;\n          break;\n        }\n      }\n    }\n    changeLanguage(lng, callback) {\n      var _this2 = this;\n      this.isLanguageChangingTo = lng;\n      const deferred = defer();\n      this.emit('languageChanging', lng);\n      const setLngProps = l => {\n        this.language = l;\n        this.languages = this.services.languageUtils.toResolveHierarchy(l);\n        this.resolvedLanguage = undefined;\n        this.setResolvedLanguage(l);\n      };\n      const done = (err, l) => {\n        if (l) {\n          setLngProps(l);\n          this.translator.changeLanguage(l);\n          this.isLanguageChangingTo = undefined;\n          this.emit('languageChanged', l);\n          this.logger.log('languageChanged', l);\n        } else {\n          this.isLanguageChangingTo = undefined;\n        }\n        deferred.resolve(function () {\n          return _this2.t(...arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this2.t(...arguments);\n        });\n      };\n      const setLng = lngs => {\n        if (!lng && !lngs && this.services.languageDetector) lngs = [];\n        const l = isString(lngs) ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n        if (l) {\n          if (!this.language) {\n            setLngProps(l);\n          }\n          if (!this.translator.language) this.translator.changeLanguage(l);\n          if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n        }\n        this.loadResources(l, err => {\n          done(err, l);\n        });\n      };\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        if (this.services.languageDetector.detect.length === 0) {\n          this.services.languageDetector.detect().then(setLng);\n        } else {\n          this.services.languageDetector.detect(setLng);\n        }\n      } else {\n        setLng(lng);\n      }\n      return deferred;\n    }\n    getFixedT(lng, ns, keyPrefix) {\n      var _this3 = this;\n      const fixedT = function (key, opts) {\n        let options;\n        if (typeof opts !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n          options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = {\n            ...opts\n          };\n        }\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n        const keySeparator = _this3.options.keySeparator || '.';\n        let resultKey;\n        if (options.keyPrefix && Array.isArray(key)) {\n          resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n        } else {\n          resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n        }\n        return _this3.t(resultKey, options);\n      };\n      if (isString(lng)) {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n      fixedT.ns = ns;\n      fixedT.keyPrefix = keyPrefix;\n      return fixedT;\n    }\n    t() {\n      return this.translator && this.translator.translate(...arguments);\n    }\n    exists() {\n      return this.translator && this.translator.exists(...arguments);\n    }\n    setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n    hasLoadedNamespace(ns) {\n      let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n      const lng = options.lng || this.resolvedLanguage || this.languages[0];\n      const fallbackLng = this.options ? this.options.fallbackLng : false;\n      const lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n      const loadNotPending = (l, n) => {\n        const loadState = this.services.backendConnector.state[`${l}|${n}`];\n        return loadState === -1 || loadState === 0 || loadState === 2;\n      };\n      if (options.precheck) {\n        const preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n    loadNamespaces(ns, callback) {\n      const deferred = defer();\n      if (!this.options.ns) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n      if (isString(ns)) ns = [ns];\n      ns.forEach(n => {\n        if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n      });\n      this.loadResources(err => {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n    loadLanguages(lngs, callback) {\n      const deferred = defer();\n      if (isString(lngs)) lngs = [lngs];\n      const preloaded = this.options.preload || [];\n      const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(err => {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n    dir(lng) {\n      if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n      if (!lng) return 'rtl';\n      const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n      const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n      return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n    }\n    static createInstance() {\n      let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      let callback = arguments.length > 1 ? arguments[1] : undefined;\n      return new I18n(options, callback);\n    }\n    cloneInstance() {\n      let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      const forkResourceStore = options.forkResourceStore;\n      if (forkResourceStore) delete options.forkResourceStore;\n      const mergedOptions = {\n        ...this.options,\n        ...options,\n        ...{\n          isClone: true\n        }\n      };\n      const clone = new I18n(mergedOptions);\n      if (options.debug !== undefined || options.prefix !== undefined) {\n        clone.logger = clone.logger.clone(options);\n      }\n      const membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(m => {\n        clone[m] = this[m];\n      });\n      clone.services = {\n        ...this.services\n      };\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      if (forkResourceStore) {\n        clone.store = new ResourceStore(this.store.data, mergedOptions);\n        clone.services.resourceStore = clone.store;\n      }\n      clone.translator = new Translator(clone.services, mergedOptions);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n        clone.emit(event, ...args);\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = mergedOptions;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n    toJSON() {\n      return {\n        options: this.options,\n        store: this.store,\n        language: this.language,\n        languages: this.languages,\n        resolvedLanguage: this.resolvedLanguage\n      };\n    }\n  }\n  const instance = I18n.createInstance();\n  instance.createInstance = I18n.createInstance;\n\n  return instance;\n\n}));\n"],"names":["global","factory","exports","module","define","amd","globalThis","self","i18next","this","isString","obj","defer","let","res","rej","promise","Promise","resolve","reject","makeString","object","copy","a","s","t","forEach","m","lastOfPathSeparatorRegExp","cleanKey","key","indexOf","replace","canNotTraverseDeeper","getLastOfPath","path","Empty","stack","split","stackIndex","length","Object","prototype","hasOwnProperty","call","k","setPath","newValue","undefined","e","p","slice","last","pushPath","concat","push","getPath","getPathWithDefaults","data","defaultData","value","deepExtend","target","source","overwrite","prop","String","regexEscape","str","_entityMap","&","<",">","\"","'","/","escape","RegExpCache","constructor","capacity","regExpMap","Map","regExpQueue","getRegExp","pattern","regExpFromCache","get","regExpNew","RegExp","delete","shift","set","chars","looksLikeObjectPathRegExpCache","looksLikeObjectPath","nsSeparator","keySeparator","possibleChars","filter","c","r","map","join","matched","test","ki","substring","deepFind","arguments","tokens","current","i","next","nextPath","j","getCleanedCode","code","consoleLogger","type","log","args","output","warn","error","console","apply","Logger","concreteLogger","options","init","prefix","logger","debug","_len","Array","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","create","moduleName","clone","baseLogger","EventEmitter","observers","on","events","listener","event","numListeners","off","emit","cloned","from","entries","_ref","observer","numTimesAdded","_ref2","ResourceStore","ns","defaultNS","super","ignoreJSONStructure","addNamespaces","removeNamespaces","index","splice","getResource","lng","isArray","result","addResource","silent","addResources","resources","addResourceBundle","deep","skipCopy","pack","JSON","parse","stringify","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","getDataByLanguage","hasLanguageSomeTranslations","n","keys","find","v","toJSON","postProcessor","processors","addPostProcessor","name","handle","translator","processor","process","checkedLoadedFor","Translator","services","changeLanguage","language","exists","interpolation","resolved","extractFromKey","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","match","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","returnDetails","namespace","appendNamespaceToCIMode","toLowerCase","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","resType","toString","noObject","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","extendTranslation","usedDefault","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","needsZeroSuffixLookup","shouldUseIntlApi","defaultValue","pluralSeparator","isValidLookup","missingKeyNoValueFallbackToKey","resForMissing","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","l","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","suffixes","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","_this","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nestAft","nest","context","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","contextSeparator","possibleKey","pop","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","capitalize","string","charAt","toUpperCase","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","Intl","getCanonicalLocales","formattedCode","lowerCaseLng","specialCases","part","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","1","Number","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","nonIntlVersions","intlVersions","suffixesOrder","zero","one","two","few","many","other","createRules","rules","numbers","plurals","PluralResolver","compatibilityJSON","includes","PluralRules","pluralRulesCache","addRule","clearCache","getRule","cleanedCode","cacheKey","rule","err","needsPlural","resolvedOptions","pluralCategories","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","deepFindWithDefaults","regexSafe","val","Interpolator","format","escapeValue","escape$1","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","getOrResetRegExp","existingRegExp","lastIndex","regexp","regexpUnescape","replaces","handleFormat","interpolationkey","trim","f","missingInterpolationHandler","todos","regex","safeValue","todo","exec","matchedVar","temp","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","reduce","parseFormatStr","formatStr","formatName","formatOptions","optStr","currency","range","opts","opt","rest","trimmedKey","isNaN","parseInt","createCachedFormatter","fn","cache","optForCache","formatParams","formatter","Formatter","formats","NumberFormat","style","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","list","ListFormat","add","addCached","findIndex","mem","formatted","valOptions","locale","removePending","q","pending","pendingCount","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","state","queue","queueLoad","languages","callback","toLoad","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","loaded","errors","done","loadedKeys","read","fcName","tried","wait","resolver","setTimeout","bind","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","initImmediate","preload","partialBundledLanguages","ret","tDescription","transformOptions","noop","bindMemberFunctions","inst","mems","getOwnPropertyNames","getPrototypeOf","I18n","modules","external","isInitialized","isClone","isInitializing","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","storeApi","storeApiChained","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","Error","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","async","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","rtlLngs","createInstance","cloneInstance","forkResourceStore","mergedOptions","membersToCopy","instance"],"mappings":"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"}