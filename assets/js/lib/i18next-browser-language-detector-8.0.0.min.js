(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):(e=typeof globalThis!=="undefined"?globalThis:e||self,e.i18nextBrowserLanguageDetector=t())})(this,function(){"use strict";const{slice:e,forEach:t}=[];function n(o){t.call(e.call(arguments,1),e=>{if(e){for(const t in e){if(o[t]===undefined)o[t]=e[t]}}});return o}const u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;const r=(e,t,o)=>{const n=o||{};n.path=n.path||"/";const i=encodeURIComponent(t);let r=`${e}=${i}`;if(n.maxAge>0){const a=n.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(a)}`}if(n.domain){if(!u.test(n.domain)){throw new TypeError("option domain is invalid")}r+=`; Domain=${n.domain}`}if(n.path){if(!u.test(n.path)){throw new TypeError("option path is invalid")}r+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!=="function"){throw new TypeError("option expires is invalid")}r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly)r+="; HttpOnly";if(n.secure)r+="; Secure";if(n.sameSite){const s=typeof n.sameSite==="string"?n.sameSite.toLowerCase():n.sameSite;switch(s){case true:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return r};const a={create(e,t,o,n){let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{path:"/",sameSite:"strict"};if(o){i.expires=new Date;i.expires.setTime(i.expires.getTime()+o*60*1e3)}if(n)i.domain=n;document.cookie=r(e,encodeURIComponent(t),i)},read(e){const o=`${e}=`;const n=document.cookie.split(";");for(let t=0;t<n.length;t++){let e=n[t];while(e.charAt(0)===" ")e=e.substring(1,e.length);if(e.indexOf(o)===0)return e.substring(o.length,e.length)}return null},remove(e){this.create(e,"",-1)}};var i={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document!=="undefined"){return a.read(t)||undefined}return undefined},cacheUserLanguage(e,t){let{lookupCookie:o,cookieMinutes:n,cookieDomain:i,cookieOptions:r}=t;if(o&&typeof document!=="undefined"){a.create(o,e,n,i,r)}}};var s={name:"querystring",lookup(e){let{lookupQuerystring:t}=e;let o;if(typeof window!=="undefined"){let{search:e}=window.location;if(!window.location.search&&window.location.hash?.indexOf("?")>-1){e=window.location.hash.substring(window.location.hash.indexOf("?"))}const n=e.substring(1);const i=n.split("&");for(let e=0;e<i.length;e++){const r=i[e].indexOf("=");if(r>0){const a=i[e].substring(0,r);if(a===t){o=i[e].substring(r+1)}}}}return o}};let o=null;const l=()=>{if(o!==null)return o;try{o=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo");window.localStorage.removeItem(e)}catch(e){o=false}return o};var c={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&l()){return window.localStorage.getItem(t)||undefined}return undefined},cacheUserLanguage(e,t){let{lookupLocalStorage:o}=t;if(o&&l()){window.localStorage.setItem(o,e)}}};let d=null;const f=()=>{if(d!==null)return d;try{d=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo");window.sessionStorage.removeItem(e)}catch(e){d=false}return d};var g={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&f()){return window.sessionStorage.getItem(t)||undefined}return undefined},cacheUserLanguage(e,t){let{lookupSessionStorage:o}=t;if(o&&f()){window.sessionStorage.setItem(o,e)}}};var h={name:"navigator",lookup(e){const t=[];if(typeof navigator!=="undefined"){const{languages:o,userLanguage:n,language:i}=navigator;if(o){for(let e=0;e<o.length;e++){t.push(o[e])}}if(n){t.push(n)}if(i){t.push(i)}}return t.length>0?t:undefined}};var p={name:"htmlTag",lookup(e){let{htmlTag:t}=e;let o;const n=t||(typeof document!=="undefined"?document.documentElement:null);if(n&&typeof n.getAttribute==="function"){o=n.getAttribute("lang")}return o}};var m={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window==="undefined")return undefined;const o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(o))return undefined;const n=typeof t==="number"?t:0;return o[n]?.replace("/","")}};var w={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const o=typeof t==="number"?t+1:1;const n=typeof window!=="undefined"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(!n)return undefined;return n[o]}};function S(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class k{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.type="languageDetector";this.detectors={};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.services=e||{languageUtils:{}};this.options=n(t,this.options||{},S());if(typeof this.options.convertDetectedLanguage==="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1){this.options.convertDetectedLanguage=e=>e.replace("-","_")}if(this.options.lookupFromUrlIndex)this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex;this.i18nOptions=o;this.addDetector(i);this.addDetector(s);this.addDetector(c);this.addDetector(g);this.addDetector(h);this.addDetector(p);this.addDetector(m);this.addDetector(w)}addDetector(e){this.detectors[e.name]=e;return this}detect(e){if(!e)e=this.options.order;let o=[];e.forEach(t=>{if(this.detectors[t]){let e=this.detectors[t].lookup(this.options);if(e&&typeof e==="string")e=[e];if(e)o=o.concat(e)}});o=o.map(e=>this.options.convertDetectedLanguage(e));if(this.services.languageUtils.getBestMatchFromCodes)return o;return o.length>0?o[0]:null}cacheUserLanguage(t,e){if(!e)e=this.options.caches;if(!e)return;if(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1)return;e.forEach(e=>{if(this.detectors[e])this.detectors[e].cacheUserLanguage(t,this.options)})}}k.type="languageDetector";return k});
//# sourceMappingURL=i18next-browser-language-detector-8.0.0.min.js.map